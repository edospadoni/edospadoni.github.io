webpackJsonp([1],{"4L5p":function(e,t){THREE.StereoEffect=function(e){var t,i;this.separation=3,this.focalLength=15;var n,o,a,s,r,c,l,u,d,h=new THREE.Vector3,m=new THREE.Quaternion,p=new THREE.Vector3,v=new THREE.PerspectiveCamera,w=new THREE.PerspectiveCamera;e.autoClear=!1,this.setSize=function(n,o){t=n/2,i=o,e.setSize(n,o)},this.render=function(E,f){E.updateMatrixWorld(),void 0===f.parent&&f.updateMatrixWorld(),f.matrixWorld.decompose(h,m,p),n=THREE.Math.radToDeg(2*Math.atan(Math.tan(.5*THREE.Math.degToRad(f.fov)))),c=f.near/this.focalLength,u=Math.tan(.5*THREE.Math.degToRad(n))*this.focalLength,l=.5*u*f.aspect,r=-(s=u*c),d=(l+this.separation/2)/(2*l),o=2*l*c*(1-d),a=2*l*c*d,v.projectionMatrix.makePerspective(-o,a,s,r,f.near,f.far),v.position.copy(h),v.quaternion.copy(m),v.translateX(-this.separation/2),w.projectionMatrix.makePerspective(-a,o,s,r,f.near,f.far),w.position.copy(h),w.quaternion.copy(m),w.translateX(this.separation/2),e.setViewport(0,0,2*t,i),e.clear(),e.setViewport(0,0,t,i),e.render(E,v),e.setViewport(t,0,t,i),e.render(E,w)}}},"5AqT":function(e,t){},D4uH:function(e,t,i){"use strict";var n={},o={name:"icon",props:{name:{type:String,validator:function(e){return e?e in n||(console.warn('Invalid prop: prop "name" is referring to an unregistered icon "'+e+'".\nPlease make sure you have imported this icon before using it.'),!1):(console.warn('Invalid prop: prop "name" is required.'),!1)}},scale:[Number,String],spin:Boolean,inverse:Boolean,pulse:Boolean,flip:{validator:function(e){return"horizontal"===e||"vertical"===e}},label:String},data:function(){return{x:!1,y:!1,childrenWidth:0,childrenHeight:0,outerScale:1}},computed:{normalizedScale:function(){var e=this.scale;return e=void 0===e?1:Number(e),isNaN(e)||e<=0?(console.warn('Invalid prop: prop "scale" should be a number over 0.',this),this.outerScale):e*this.outerScale},klass:function(){return{"fa-icon":!0,"fa-spin":this.spin,"fa-flip-horizontal":"horizontal"===this.flip,"fa-flip-vertical":"vertical"===this.flip,"fa-inverse":this.inverse,"fa-pulse":this.pulse}},icon:function(){return this.name?n[this.name]:null},box:function(){return this.icon?"0 0 "+this.icon.width+" "+this.icon.height:"0 0 "+this.width+" "+this.height},ratio:function(){if(!this.icon)return 1;var e=this.icon,t=e.width,i=e.height;return Math.max(t,i)/16},width:function(){return this.childrenWidth||this.icon&&this.icon.width/this.ratio*this.normalizedScale||0},height:function(){return this.childrenHeight||this.icon&&this.icon.height/this.ratio*this.normalizedScale||0},style:function(){return 1!==this.normalizedScale&&{fontSize:this.normalizedScale+"em"}},raw:function(){if(!this.icon||!this.icon.raw)return null;var e=this.icon.raw,t={};return e=e.replace(/\s(?:xml:)?id=(["']?)([^"')\s]+)\1/g,function(e,i,n){var o="fa-"+(a++).toString(16);return t[n]=o,' id="'+o+'"'}),e=e.replace(/#(?:([^'")\s]+)|xpointer\(id\((['"]?)([^')]+)\2\)\))/g,function(e,i,n,o){var a=i||o;return a&&t[a]?"#"+t[a]:e}),e}},mounted:function(){var e=this;if(!this.icon){this.$children.forEach(function(t){t.outerScale=e.normalizedScale});var t=0,i=0;this.$children.forEach(function(e){t=Math.max(t,e.width),i=Math.max(i,e.height)}),this.childrenWidth=t,this.childrenHeight=i,this.$children.forEach(function(e){e.x=(t-e.width)/2,e.y=(i-e.height)/2})}},register:function(e){for(var t in e){var i=e[t];i.paths||(i.paths=[]),i.d&&i.paths.push({d:i.d}),i.polygons||(i.polygons=[]),i.points&&i.polygons.push({points:i.points}),n[t]=i}},icons:n},a=870711;var s={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("svg",{class:e.klass,style:e.style,attrs:{version:"1.1",role:e.label?"img":"presentation","aria-label":e.label,x:e.x,y:e.y,width:e.width,height:e.height,viewBox:e.box}},[e._t("default",[e.icon&&e.icon.paths?e._l(e.icon.paths,function(t,n){return i("path",e._b({key:"path-"+n},"path",t,!1))}):e._e(),e._v(" "),e.icon&&e.icon.polygons?e._l(e.icon.polygons,function(t,n){return i("polygon",e._b({key:"polygon-"+n},"polygon",t,!1))}):e._e(),e._v(" "),e.icon&&e.icon.raw?[i("g",{domProps:{innerHTML:e._s(e.raw)}})]:e._e()])],2)},staticRenderFns:[]};var r=i("VU/8")(o,s,!1,function(e){i("5AqT")},null,null);t.a=r.exports},FJNZ:function(e,t){},FOHr:function(e,t){},NHnr:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i("7+uW"),o={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var a=i("VU/8")({name:"App"},o,!1,function(e){i("FOHr")},null,null).exports,s=i("/ocq"),r=new(i("bS9u")),c=i("6VvU"),l={methods:{enableWakeLock:function(){r.enable(),document.removeEventListener("click",this.enableWakeLock,!1)},isMobile:function(){return c()},setVR:function(){this.view.isVR=!this.view.isVR,this.onViewResize()},setFullScreen:function(){this.view.isFullScreen?document.exitFullscreen?(document.exitFullscreen(),this.view.isFullScreen=!1):document.mozCancelFullScreen?(document.mozCancelFullScreen(),this.view.isFullScreen=!1):document.webkitExitFullscreen&&(document.webkitExitFullscreen(),this.view.isFullScreen=!1):document.documentElement.requestFullscreen?(document.documentElement.requestFullscreen(),this.view.isFullScreen=!0):document.documentElement.mozRequestFullScreen?(document.documentElement.mozRequestFullScreen(),this.view.isFullScreen=!0):document.documentElement.webkitRequestFullscreen?(document.documentElement.webkitRequestFullscreen(),this.view.isFullScreen=!0):document.documentElement.msRequestFullscreen&&(document.documentElement.msRequestFullscreen(),this.view.isFullScreen=!0)}}},u=i("Uur6"),d={methods:{initEvents:function(){document.addEventListener("click",this.enableWakeLock,!1),window.addEventListener("resize",this.onViewResize,!1),window.addEventListener("deviceorientation",this.onDeviceOrientation,!0)},onDeviceOrientation:function(e){e.alpha&&(this.view.controls=new THREE.DeviceOrientationControls(this.view.camera,!0),this.view.controls.connect(),this.view.controls.update(),window.removeEventListener("deviceorientation",this.onDeviceOrientation,!0))},onViewResize:function(){this.view.camera.aspect=window.innerWidth/window.innerHeight,this.view.camera.updateProjectionMatrix(),this.view.isMobile&&this.view.isVR&&this.view.effect.setSize(window.innerWidth,window.innerHeight),this.view.renderer.setSize(window.innerWidth,window.innerHeight)}}},h=i("mhSO"),m=i("RGf9"),p=i("wKpb"),v=i("DNyR"),w=function(){return m(-Math.PI,Math.PI)},E=new(i("wG9/")),f={data:function(){return{geometryMAP:{1:"IcosahedronGeometry",2:"OctahedronGeometry"}}},methods:{addGrid:function(){this.view.components.grid=new THREE.Object3D;var e=new THREE.GridHelper(10,100,this.view.colors.directional,this.view.colors.directional);e.position.y=-15,e.position.z=-1e3,e.scale.multiplyScalar(100);var t=new THREE.GridHelper(10,100,this.view.colors.directional,this.view.colors.directional);t.position.y=-15,t.position.z=0,t.scale.multiplyScalar(100);var i=new THREE.GridHelper(10,100,this.view.colors.directional,this.view.colors.directional);i.position.y=-15,i.position.z=1e3,i.scale.multiplyScalar(100),this.view.components.grid.add(e),this.view.components.grid.add(t),this.view.components.grid.add(i),this.view.scene.add(this.view.components.grid)},addLights:function(e,t){this.view.components.ambientLight=new THREE.AmbientLight(e),this.view.scene.add(this.view.components.ambientLight),this.view.components.lights[0]=new THREE.DirectionalLight(t,1),this.view.components.lights[0].position.set(0,1,1),this.view.scene.add(this.view.components.lights[0])},addRocks:function(e,t){this.view.components.rocks=new THREE.Object3D;for(var i=0;i<e;i++){var n=p(2,6),o=p(5,20),a=new THREE.ConeGeometry(n,o,6),s=new THREE.MeshPhongMaterial({color:t,flatShading:!0}),r=new THREE.Mesh(a,s.clone());r.position.fromArray([m(5,this.music.audio.fftSize/4),-(15-o/2),m(this.music.audio.fftSize/2)-this.music.audio.fftSize/4]),r.rotation.y=m(0,180);var c=r.clone();c.position.x*=-1,this.view.components.rocks.add(r),this.view.components.rocks.add(c)}this.view.scene.add(this.view.components.rocks)},addParticles:function(e,t){this.view.components.particles=new THREE.Object3D;for(var i=h(10).map(function(){var e=new THREE.TetrahedronGeometry(1,p(1,2));return e.vertices.forEach(function(e){for(var t=Math.pow(2,3),i=.75,n=0;n<3;n++)e.x+=i*E.noise3D(e.x*t*0,e.y*t,e.z*t),e.y+=i*E.noise3D(e.x*t,e.y*t*0,e.z*t),e.z+=i*E.noise3D(e.x*t,e.y*t,e.z*t*0),t*=.25,i*=1/3*n}),e.computeFaceNormals(),e.verticesNeedsUpdate=!0,e}),n=new THREE.MeshPhongMaterial({color:t,wireframe:!0,side:THREE.DoubleSide}),o=0;o<e;o++){var a=i[p(i.length-1)],s=new THREE.Mesh(a,n.clone());s.material.opacity=m(.05,.1),s.scale.multiplyScalar(m(.1,1.5)),s.rotation.fromArray(h(3).map(w)),s.direction=(new THREE.Vector3).fromArray(v([])),s.position.fromArray([m(this.music.audio.fftSize/4)-this.music.audio.fftSize/8,m(this.music.audio.fftSize/8),m(this.music.audio.fftSize/4)-this.music.audio.fftSize/8]),this.view.components.particles.add(s)}this.view.components.particles.visible=!1,this.view.scene.add(this.view.components.particles)},addBulb:function(e,t,i,n){this.view.components.bulb=new THREE.Object3D;var o=new THREE[this.geometryMAP[i]](15,n),a=new THREE.MeshPhongMaterial({color:t,wireframe:!0}),s=new THREE.MeshPhongMaterial({color:e,flatShading:!0}),r=new THREE.Mesh(o,a.clone());r.position.y=0,r.position.z=0,r.scale.x=r.scale.y=r.scale.z=.11;var c=new THREE.Mesh(o,s.clone());c.position.y=0,c.position.z=0,c.scale.x=c.scale.y=c.scale.z=.1,this.view.components.bulb.add(r),this.view.components.bulb.add(c),this.view.scene.add(this.view.components.bulb)},addSongDetail:function(e,t,i){this.view.components.songDetail=new THREE.Object3D;var n=new THREE.MeshPhongMaterial({color:i}),o=new THREE.TextGeometry(e,{font:this.view.font,size:.8,height:.1});o.computeBoundingBox();var a=new THREE.TextGeometry(t,{font:this.view.font,size:.5,height:.1});a.computeBoundingBox();var s=new THREE.Mesh(o,n),r=-.5*(o.boundingBox.max.x-o.boundingBox.min.x);s.position.fromArray([r,-3,0]);var c=new THREE.Mesh(a,n),l=-.5*(a.boundingBox.max.x-a.boundingBox.min.x);c.position.fromArray([l,-4,0]),this.view.components.songDetail.add(s),this.view.components.songDetail.add(c),this.view.components.songDetail.position.y=-5,this.view.components.songDetail.position.z=100,this.view.scene.add(this.view.components.songDetail)}}},b=i("k1jI"),g={methods:{animateGrid:function(){this.view.components.grid.children[0].position.z+=1,this.view.components.grid.children[1].position.z+=1,this.view.components.grid.children[2].position.z+=1,this.view.components.grid.children[0].position.z>1e3&&(this.view.components.grid.children[0].position.z=-1e3),this.view.components.grid.children[1].position.z>1e3&&(this.view.components.grid.children[1].position.z=-1e3),this.view.components.grid.children[2].position.z>1e3&&(this.view.components.grid.children[2].position.z=-1e3)},animateRocks:function(){for(var e=0;e<this.view.components.rocks.children.length;e++){var t=this.view.components.rocks.children[e];t.position.z+=1,t.position.z>this.music.audio.fftSize/8&&(t.position.z-=this.music.audio.fftSize/2)}},animateParticles:function(e){this.view.components.particles.visible=!0;for(var t=0;t<this.view.components.particles.children.length;t++){var i=this.view.components.particles.children[t];i.position.z+=.5,i.rotation.z+=.02,i.position.z>this.music.audio.fftSize/16&&(i.position.z-=this.music.audio.fftSize/4),0!=e[t]&&(i.scale.x=e[t]/75,i.scale.y=e[t]/75,i.scale.z=e[t]/75)}},animateBulb:function(e,t){switch(e){case"forward":this.view.components.bulb.children[0].rotation.x+=.002,this.view.components.bulb.children[1].rotation.x-=.002;break;case"backward":this.view.components.bulb.children[0].rotation.x-=.002,this.view.components.bulb.children[1].rotation.x+=.002;break;case"pulse":if(t){var i=b(this.music.audio.analyser.analyser,t,20,200),n=b(this.music.audio.analyser.analyser,t,200,1e3);0!=i&&(this.view.components.bulb.children[1].scale.x=i/10,this.view.components.bulb.children[1].scale.y=i/10,this.view.components.bulb.children[1].scale.z=i/10),0!=n&&(this.view.components.bulb.children[0].scale.x=n/5,this.view.components.bulb.children[0].scale.y=n/5,this.view.components.bulb.children[0].scale.z=n/5)}else this.view.components.bulb.children[0].scale.x<.16&&this.view.animations.pulseUp?this.view.components.bulb.children[0].scale.addScalar(5e-4):this.view.components.bulb.children[0].scale.x>=.16&&(this.view.animations.pulseUp=!1,this.view.animations.pulseDown=!0),this.view.components.bulb.children[0].scale.x>.11&&this.view.animations.pulseDown?this.view.components.bulb.children[0].scale.subScalar(5e-4):this.view.components.bulb.children[0].scale.x<=.11&&(this.view.animations.pulseUp=!0,this.view.animations.pulseDown=!1)}},animateCamera:function(){!this.view.animations.cameraIsExecuted&&this.view.camera.position.z>20?this.view.camera.position.z-=.25:(this.view.animations.cameraIsExecuted=!0,this.view.isMobile||(this.view.controls.enableRotate=!0))},animateSongDetail:function(){!this.view.animations.songDetailIsExecuted&&this.view.components.songDetail.position.z>-2?this.view.components.songDetail.position.z-=.35:this.view.animations.songDetailIsExecuted=!0}}},R=(i("k1jI"),{methods:{play:function(){"playing"===this.music.audio.status?(this.music.audio.player.pause(),this.music.audio.status="paused"):(this.music.audio.player.play(),this.music.audio.status="playing")}}}),y={name:"MusicVR",mixins:[l,u.a,d,f,g,R],data:function(){return{view:{camera:null,scene:null,renderer:null,effect:null,controls:null,input:null,animations:{pulseUp:!0,pulseDown:!1,cameraIsExecuted:!1,songDetailIsExecuted:!1},components:{particles:{},rocks:{},bulb:{},grid:{},songDetail:{},lights:[],ambientLight:{}},colors:{ambient:12403,directional:169879,bulb:{external:16777215,internal:1173691},particle:16777215,rocks:1173691,text:16777215},font:null,isMobile:this.isMobile(),isFullScreen:!1,isVR:!1},music:{audio:{context:null,source:"static/rock.mp3",player:null,analyser:null,status:null,ready:!1,fftSize:1024},title:"Highway to Hell",artist:"AC/DC"}}},mounted:function(){this.initView()},methods:{initView:function(){var e=this;this.initRenderer(),document.getElementById("view").appendChild(this.view.renderer.domElement),this.initVR(),this.initScene(),this.initCamera(),(new THREE.FontLoader).load("static/fonts/open-sans.json",function(t){e.view.font=t,e.initAmbient(e),e.addGrid(),e.addParticles(e.music.audio.fftSize/8,e.view.colors.particle),e.addRocks(e.music.audio.fftSize/16,e.view.colors.rocks),e.addBulb(e.view.colors.bulb.internal,e.view.colors.bulb.external,1,1),e.initControls(),e.initEvents(),e.initAudio(function(t){e.animate()})})},animate:function(e){if(requestAnimationFrame(this.animate),this.handleVR(),this.view.controls.update(),this.view.animations.songDetailIsExecuted||this.animateSongDetail(),this.view.animations.cameraIsExecuted||this.animateCamera(),"playing"===this.music.audio.status){var t=this.music.audio.analyser.frequencies();this.animateParticles(t),this.animateRocks(),this.animateBulb("pulse",t),this.animateGrid()}else this.animateBulb("pulse",null)}}},T={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{attrs:{id:"view"}}),e._v(" "),e.music.audio.ready&&e.view.animations.cameraIsExecuted?i("div",{attrs:{id:"play"},on:{click:function(t){e.play()}}},[i("icon",{staticClass:"white",attrs:{name:"playing"==e.music.audio.status?"pause":"play",scale:"1.5"}})],1):e._e(),e._v(" "),e.view.isMobile?e._e():i("div",{attrs:{id:"fullscreen"},on:{click:function(t){e.setFullScreen()}}},[i("icon",{staticClass:"white",attrs:{name:e.view.isFullScreen?"compress":"expand",scale:"2"}})],1),e._v(" "),e.view.isMobile?i("div",{attrs:{id:"vr"},on:{click:function(t){e.setVR()}}},[i("icon",{staticClass:"white",attrs:{name:e.view.isVR?"eye-slash":"eye",scale:"2"}})],1):e._e()])},staticRenderFns:[]};var H=i("VU/8")(y,T,!1,function(e){i("FJNZ")},"data-v-4d0240c3",null).exports;n.a.use(s.a);var x=new s.a({routes:[{path:"/",name:"MusicVR",component:H}]}),S=(i("D/PP"),i("D4uH"));n.a.component("icon",S.a),n.a.config.productionTip=!1,new n.a({el:"#app",router:x,components:{App:a},template:"<App/>"})},TvTK:function(e,t){e.exports={"audio/midi":["mid","midi","kar","rmi"],"audio/mp4":["mp4a","m4a"],"audio/mpeg":["mpga","mp2","mp2a","mp3","m2a","m3a"],"audio/ogg":["oga","ogg","spx"],"audio/webm":["weba"],"audio/x-matroska":["mka"],"audio/x-mpegurl":["m3u"],"audio/wav":["wav"],"video/3gpp":["3gp"],"video/3gpp2":["3g2"],"video/mp4":["mp4","mp4v","mpg4"],"video/mpeg":["mpeg","mpg","mpe","m1v","m2v"],"video/ogg":["ogv"],"video/quicktime":["qt","mov"],"video/webm":["webm"],"video/x-f4v":["f4v"],"video/x-fli":["fli"],"video/x-flv":["flv"],"video/x-m4v":["m4v"],"video/x-matroska":["mkv","mk3d","mks"]}},Uur6:function(e,t,i){"use strict";(function(e){e.THREE=i("Ml+6"),i("4L5p"),i("oHLW"),i("qPnr");var n=i("fmcO"),o=i("U3J1"),a=i("cNSP"),s=i("Ucwr"),r={methods:{initRenderer:function(){this.view.renderer=new THREE.WebGLRenderer({antialias:!0,alpha:!0}),this.view.renderer.setPixelRatio(window.devicePixelRatio?window.devicePixelRatio:1),this.view.renderer.setSize(window.innerWidth,window.innerHeight),this.view.renderer.autoClear=!1},initVR:function(){this.view.isMobile&&(this.view.effect=new THREE.StereoEffect(this.view.renderer),this.view.effect.setSize(window.innerWidth,window.innerHeight))},handleVR:function(){var e="renderer";this.view.isMobile&&this.view.isVR&&(e="effect"),this.view[e].render(this.view.scene,this.view.camera)},initInput:function(){this.view.input=new s.default(this.view.camera,this.view.renderer.domElement),this.view.input.setSize(this.view.renderer.getSize()),this.view.scene.add(this.view.input.getMesh())},initScene:function(){this.view.scene=new THREE.Scene},initCamera:function(){this.view.camera=new THREE.PerspectiveCamera(50,window.innerWidth/window.innerHeight,1,500),this.view.camera.position.z=100,this.view.camera.position.y=-5,this.view.scene.add(this.view.camera)},initControls:function(){this.view.controls=new THREE.OrbitControls(this.view.camera,this.view.renderer.domElement),this.view.controls.minDistance=20,this.view.controls.maxDistance=100,this.view.controls.enableRotate=!1,this.view.controls.enableZoom=!1,this.view.controls.enablePan=!1},initAmbient:function(e){e.addLights(e.view.colors.ambient,e.view.colors.directional),e.addSongDetail(e.music.title,e.music.artist,e.view.colors.text)},initAudio:function(e){var t=this;this.music.audio.context=a(),this.music.audio.player=n(this.music.audio.source,{loop:!0,context:this.music.audio.context}),this.music.audio.analyser=o(this.music.audio.player.node,this.music.audio.context,{stereo:!1,audible:!1}),this.music.audio.analyser.analyser.fftSize=this.music.audio.fftSize,this.music.audio.player.on("load",function(){t.music.audio.ready=!0,t.music.audio.player.node.connect(t.music.audio.player.context.destination),e(t.music.audio.ready)})}}};t.a=r}).call(t,i("DuR2"))},oHLW:function(e,t){THREE.DeviceOrientationControls=function(e){var t=this;this.object=e,this.object.rotation.reorder("YXZ"),this.enabled=!0,this.deviceOrientation={},this.screenOrientation=0,this.alphaOffset=0;var i,n,o,a,s=function(e){t.deviceOrientation=e},r=function(){t.screenOrientation=window.orientation||0},c=(i=new THREE.Vector3(0,0,1),n=new THREE.Euler,o=new THREE.Quaternion,a=new THREE.Quaternion(-Math.sqrt(.5),0,0,Math.sqrt(.5)),function(e,t,s,r,c){n.set(s,t,-r,"YXZ"),e.setFromEuler(n),e.multiply(a),e.multiply(o.setFromAxisAngle(i,-c))});this.connect=function(){r(),window.addEventListener("orientationchange",r,!1),window.addEventListener("deviceorientation",s,!1),t.enabled=!0},this.disconnect=function(){window.removeEventListener("orientationchange",r,!1),window.removeEventListener("deviceorientation",s,!1),t.enabled=!1},this.update=function(){if(!1!==t.enabled){var e=t.deviceOrientation;if(e){var i=e.alpha?THREE.Math.degToRad(e.alpha)+t.alphaOffset:0,n=e.beta?THREE.Math.degToRad(e.beta):0,o=e.gamma?THREE.Math.degToRad(e.gamma):0,a=t.screenOrientation?THREE.Math.degToRad(t.screenOrientation):0;c(t.object.quaternion,i,n,o,a)}}},this.dispose=function(){t.disconnect()},this.connect()}},qPnr:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i("HSQo"),o=i.n(n),a=i("OvRC"),s=i.n(a);THREE.OrbitControls=function(e,t){var i,n,o,a,s;this.object=e,this.domElement=void 0!==t?t:document,this.enabled=!0,this.target=new THREE.Vector3,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.25,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!1,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.enableKeys=!0,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},this.mouseButtons={ORBIT:THREE.MOUSE.LEFT,ZOOM:THREE.MOUSE.MIDDLE,PAN:THREE.MOUSE.RIGHT},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=function(){return p.phi},this.getAzimuthalAngle=function(){return p.theta},this.saveState=function(){r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object.zoom},this.reset=function(){r.target.copy(r.target0),r.object.position.copy(r.position0),r.object.zoom=r.zoom0,r.object.updateProjectionMatrix(),r.dispatchEvent(c),r.update(),h=d.NONE},this.update=(i=new THREE.Vector3,n=(new THREE.Quaternion).setFromUnitVectors(e.up,new THREE.Vector3(0,1,0)),o=n.clone().inverse(),a=new THREE.Vector3,s=new THREE.Quaternion,function(){var e=r.object.position;return i.copy(e).sub(r.target),i.applyQuaternion(n),p.setFromVector3(i),r.autoRotate&&h===d.NONE&&O(2*Math.PI/60/60*r.autoRotateSpeed),p.theta+=v.theta,p.phi+=v.phi,p.theta=Math.max(r.minAzimuthAngle,Math.min(r.maxAzimuthAngle,p.theta)),p.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,p.phi)),p.makeSafe(),p.radius*=w,p.radius=Math.max(r.minDistance,Math.min(r.maxDistance,p.radius)),r.target.add(E),i.setFromSpherical(p),i.applyQuaternion(o),e.copy(r.target).add(i),r.object.lookAt(r.target),!0===r.enableDamping?(v.theta*=1-r.dampingFactor,v.phi*=1-r.dampingFactor,E.multiplyScalar(1-r.dampingFactor)):(v.set(0,0,0),E.set(0,0,0)),w=1,!!(f||a.distanceToSquared(r.object.position)>m||8*(1-s.dot(r.object.quaternion))>m)&&(r.dispatchEvent(c),a.copy(r.object.position),s.copy(r.object.quaternion),f=!1,!0)}),this.dispose=function(){r.domElement.removeEventListener("contextmenu",B,!1),r.domElement.removeEventListener("mousedown",A,!1),r.domElement.removeEventListener("wheel",U,!1),r.domElement.removeEventListener("touchstart",I,!1),r.domElement.removeEventListener("touchend",q,!1),r.domElement.removeEventListener("touchmove",Z,!1),document.removeEventListener("mousemove",V,!1),document.removeEventListener("mouseup",N,!1),window.removeEventListener("keydown",_,!1)};var r=this,c={type:"change"},l={type:"start"},u={type:"end"},d={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_DOLLY_PAN:4},h=d.NONE,m=1e-6,p=new THREE.Spherical,v=new THREE.Spherical,w=1,E=new THREE.Vector3,f=!1,b=new THREE.Vector2,g=new THREE.Vector2,R=new THREE.Vector2,y=new THREE.Vector2,T=new THREE.Vector2,H=new THREE.Vector2,x=new THREE.Vector2,S=new THREE.Vector2,z=new THREE.Vector2;function M(){return Math.pow(.95,r.zoomSpeed)}function O(e){v.theta-=e}function P(e){v.phi-=e}var k,D=(k=new THREE.Vector3,function(e,t){k.setFromMatrixColumn(t,0),k.multiplyScalar(-e),E.add(k)}),L=function(){var e=new THREE.Vector3;return function(t,i){!0===r.screenSpacePanning?e.setFromMatrixColumn(i,1):(e.setFromMatrixColumn(i,0),e.crossVectors(r.object.up,e)),e.multiplyScalar(t),E.add(e)}}(),j=function(){var e=new THREE.Vector3;return function(t,i){var n=r.domElement===document?r.domElement.body:r.domElement;if(r.object.isPerspectiveCamera){var o=r.object.position;e.copy(o).sub(r.target);var a=e.length();a*=Math.tan(r.object.fov/2*Math.PI/180),D(2*t*a/n.clientHeight,r.object.matrix),L(2*i*a/n.clientHeight,r.object.matrix)}else r.object.isOrthographicCamera?(D(t*(r.object.right-r.object.left)/r.object.zoom/n.clientWidth,r.object.matrix),L(i*(r.object.top-r.object.bottom)/r.object.zoom/n.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}}();function C(e){r.object.isPerspectiveCamera?w/=e:r.object.isOrthographicCamera?(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom*e)),r.object.updateProjectionMatrix(),f=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function F(e){r.object.isPerspectiveCamera?w*=e:r.object.isOrthographicCamera?(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/e)),r.object.updateProjectionMatrix(),f=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function A(e){if(!1!==r.enabled){switch(e.preventDefault(),e.button){case r.mouseButtons.ORBIT:if(!1===r.enableRotate)return;!function(e){b.set(e.clientX,e.clientY)}(e),h=d.ROTATE;break;case r.mouseButtons.ZOOM:if(!1===r.enableZoom)return;!function(e){x.set(e.clientX,e.clientY)}(e),h=d.DOLLY;break;case r.mouseButtons.PAN:if(!1===r.enablePan)return;!function(e){y.set(e.clientX,e.clientY)}(e),h=d.PAN}h!==d.NONE&&(document.addEventListener("mousemove",V,!1),document.addEventListener("mouseup",N,!1),r.dispatchEvent(l))}}function V(e){if(!1!==r.enabled)switch(e.preventDefault(),h){case d.ROTATE:if(!1===r.enableRotate)return;!function(e){g.set(e.clientX,e.clientY),R.subVectors(g,b).multiplyScalar(r.rotateSpeed);var t=r.domElement===document?r.domElement.body:r.domElement;O(2*Math.PI*R.x/t.clientWidth),P(2*Math.PI*R.y/t.clientHeight),b.copy(g),r.update()}(e);break;case d.DOLLY:if(!1===r.enableZoom)return;!function(e){S.set(e.clientX,e.clientY),z.subVectors(S,x),z.y>0?C(M()):z.y<0&&F(M()),x.copy(S),r.update()}(e);break;case d.PAN:if(!1===r.enablePan)return;!function(e){T.set(e.clientX,e.clientY),H.subVectors(T,y).multiplyScalar(r.panSpeed),j(H.x,H.y),y.copy(T),r.update()}(e)}}function N(e){!1!==r.enabled&&(document.removeEventListener("mousemove",V,!1),document.removeEventListener("mouseup",N,!1),r.dispatchEvent(u),h=d.NONE)}function U(e){!1===r.enabled||!1===r.enableZoom||h!==d.NONE&&h!==d.ROTATE||(e.preventDefault(),e.stopPropagation(),r.dispatchEvent(l),function(e){e.deltaY<0?F(M()):e.deltaY>0&&C(M()),r.update()}(e),r.dispatchEvent(u))}function _(e){!1!==r.enabled&&!1!==r.enableKeys&&!1!==r.enablePan&&function(e){switch(e.keyCode){case r.keys.UP:j(0,r.keyPanSpeed),r.update();break;case r.keys.BOTTOM:j(0,-r.keyPanSpeed),r.update();break;case r.keys.LEFT:j(r.keyPanSpeed,0),r.update();break;case r.keys.RIGHT:j(-r.keyPanSpeed,0),r.update()}}(e)}function I(e){if(!1!==r.enabled){switch(e.preventDefault(),e.touches.length){case 1:if(!1===r.enableRotate)return;!function(e){b.set(e.touches[0].pageX,e.touches[0].pageY)}(e),h=d.TOUCH_ROTATE;break;case 2:if(!1===r.enableZoom&&!1===r.enablePan)return;!function(e){if(r.enableZoom){var t=e.touches[0].pageX-e.touches[1].pageX,i=e.touches[0].pageY-e.touches[1].pageY,n=Math.sqrt(t*t+i*i);x.set(0,n)}if(r.enablePan){var o=.5*(e.touches[0].pageX+e.touches[1].pageX),a=.5*(e.touches[0].pageY+e.touches[1].pageY);y.set(o,a)}}(e),h=d.TOUCH_DOLLY_PAN;break;default:h=d.NONE}h!==d.NONE&&r.dispatchEvent(l)}}function Z(e){if(!1!==r.enabled)switch(e.preventDefault(),e.stopPropagation(),e.touches.length){case 1:if(!1===r.enableRotate)return;if(h!==d.TOUCH_ROTATE)return;!function(e){g.set(e.touches[0].pageX,e.touches[0].pageY),R.subVectors(g,b).multiplyScalar(r.rotateSpeed);var t=r.domElement===document?r.domElement.body:r.domElement;O(2*Math.PI*R.x/t.clientWidth),P(2*Math.PI*R.y/t.clientHeight),b.copy(g),r.update()}(e);break;case 2:if(!1===r.enableZoom&&!1===r.enablePan)return;if(h!==d.TOUCH_DOLLY_PAN)return;!function(e){if(r.enableZoom){var t=e.touches[0].pageX-e.touches[1].pageX,i=e.touches[0].pageY-e.touches[1].pageY,n=Math.sqrt(t*t+i*i);S.set(0,n),z.set(0,Math.pow(S.y/x.y,r.zoomSpeed)),C(z.y),x.copy(S)}if(r.enablePan){var o=.5*(e.touches[0].pageX+e.touches[1].pageX),a=.5*(e.touches[0].pageY+e.touches[1].pageY);T.set(o,a),H.subVectors(T,y).multiplyScalar(r.panSpeed),j(H.x,H.y),y.copy(T)}r.update()}(e);break;default:h=d.NONE}}function q(e){!1!==r.enabled&&(r.dispatchEvent(u),h=d.NONE)}function B(e){!1!==r.enabled&&e.preventDefault()}r.domElement.addEventListener("contextmenu",B,!1),r.domElement.addEventListener("mousedown",A,!1),r.domElement.addEventListener("wheel",U,{passive:!0}),r.domElement.addEventListener("touchstart",I,{passive:!0}),r.domElement.addEventListener("touchend",q,!1),r.domElement.addEventListener("touchmove",Z,{passive:!0}),window.addEventListener("keydown",_,!1),this.update()},THREE.OrbitControls.prototype=s()(THREE.EventDispatcher.prototype),THREE.OrbitControls.prototype.constructor=THREE.OrbitControls,o()(THREE.OrbitControls.prototype,{center:{get:function(){return console.warn("THREE.OrbitControls: .center has been renamed to .target"),this.target}},noZoom:{get:function(){return console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),!this.enableZoom},set:function(e){console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),this.enableZoom=!e}},noRotate:{get:function(){return console.warn("THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead."),!this.enableRotate},set:function(e){console.warn("THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead."),this.enableRotate=!e}},noPan:{get:function(){return console.warn("THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead."),!this.enablePan},set:function(e){console.warn("THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead."),this.enablePan=!e}},noKeys:{get:function(){return console.warn("THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead."),!this.enableKeys},set:function(e){console.warn("THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead."),this.enableKeys=!e}},staticMoving:{get:function(){return console.warn("THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead."),!this.enableDamping},set:function(e){console.warn("THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead."),this.enableDamping=!e}},dynamicDampingFactor:{get:function(){return console.warn("THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."),this.dampingFactor},set:function(e){console.warn("THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."),this.dampingFactor=e}}})}},["NHnr"]);
//# sourceMappingURL=app.1bfa5e36798f2d40b271.js.map