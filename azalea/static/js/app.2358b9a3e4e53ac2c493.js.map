{"version":3,"sources":["webpack:///./src/lib/StereoEffect.js","webpack:///node_modules/vue-awesome/components/Icon.vue","webpack:///./node_modules/vue-awesome/components/Icon.vue?2524","webpack:///./node_modules/vue-awesome/components/Icon.vue","webpack:///./src/App.vue?c6e0","webpack:///./src/App.vue","webpack:///src/App.vue","webpack:///./src/services/util.js","webpack:///./src/services/event.js","webpack:///./src/services/creator.js","webpack:///./src/services/animator.js","webpack:///./src/services/music.js","webpack:///src/components/MusicVR.vue","webpack:///./src/components/MusicVR.vue?7b13","webpack:///./src/components/MusicVR.vue","webpack:///./src/router/index.js","webpack:///./src/main.js","webpack:///./node_modules/browser-media-mime-type/mime-types.json","webpack:///./src/services/init.js","webpack:///./src/lib/DeviceOrientationControls.js","webpack:///./src/lib/OrbitControls.js"],"names":["THREE","StereoEffect","renderer","_width","_height","this","separation","focalLength","_fov","_outer","_inner","_top","_bottom","_ndfl","_halfFocalWidth","_halfFocalHeight","_innerFactor","_position","Vector3","_quaternion","Quaternion","_scale","_cameraL","PerspectiveCamera","_cameraR","autoClear","setSize","width","height","render","scene","camera","updateMatrixWorld","undefined","parent","matrixWorld","decompose","Math","radToDeg","atan","tan","degToRad","fov","near","aspect","projectionMatrix","makePerspective","far","position","copy","quaternion","translateX","setViewport","clear","icons","Icon","String","val","warn","Boolean","scale","outerScale","spin","inverse","pulse","name","_icon","icon","raw","uniqueId","pointerId","id","match","_this","normalizedScale","d","points","cursor","components_Icon","_vm","_h","$createElement","_c","_self","class","klass","style","attrs","version","role","label","aria-label","x","y","viewBox","box","_t","paths","_l","path","i","_b","key","_e","_v","polygons","polygon","domProps","innerHTML","_s","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","selectortype_template_index_0_src_App","src_App","nosleep","mobile","util","methods","enableWakeLock","enable","document","removeEventListener","isMobile","setVR","view","isVR","onViewResize","setFullScreen","isFullScreen","exitFullscreen","mozCancelFullScreen","webkitExitFullscreen","documentElement","requestFullscreen","mozRequestFullScreen","webkitRequestFullscreen","msRequestFullscreen","services_event","initEvents","addEventListener","window","onDeviceOrientation","e","alpha","controls","DeviceOrientationControls","connect","update","innerWidth","innerHeight","updateProjectionMatrix","effect","newArray","randomFloat","randomInt","randomVector","randomRadian","PI","simplex","creator","data","geometryMAP","1","2","addGrid","components","grid","Object3D","grid1","GridHelper","colors","directional","z","multiplyScalar","grid2","grid3","add","addLights","ambientColor","directionalColor","ambientLight","AmbientLight","lights","DirectionalLight","set","addRocks","number","color","rocks","geometry","ConeGeometry","material","MeshPhongMaterial","flatShading","mesh","Mesh","clone","fromArray","music","audio","fftSize","rotation","meshClone","addParticles","particles","geometries","map","TetrahedronGeometry","vertices","forEach","v","s","pow","a","noise3D","computeFaceNormals","verticesNeedsUpdate","wireframe","side","DoubleSide","length","opacity","direction","visible","addBulb","internalColor","externalColor","type","faces","bulb","materialSkeleton","materialFill","meshSkeleton","meshFill","addSongDetail","title","artist","songDetail","geometryTitle","TextGeometry","font","size","computeBoundingBox","geometryArtist","meshTitle","centerOffsetTitle","boundingBox","max","min","meshArtist","centerOffsetArtist","audioFrequencyAverage","animator","animateGrid","children","animateRocks","freqs","rock","animateParticles","particle","animateBulb","avgBass","analyser","avgMid","animations","pulseUp","addScalar","pulseDown","subScalar","animateCamera","cameraIsExecuted","enableRotate","animateSongDetail","songDetailIsExecuted","play","status","player","pause","init","initView","initRenderer","getElementById","appendChild","domElement","initVR","initScene","initCamera","FontLoader","context","internal","external","initControls","animate","handleVR","frequencies","components_MusicVR","ready","on","click","$event","staticClass","src_components_MusicVR","MusicVR_normalizeComponent","MusicVR","vue_esm","use","vue_router_esm","router","routes","component","config","productionTip","el","App","template","module","exports","audio/midi","audio/mp4","audio/mpeg","audio/ogg","audio/webm","audio/x-matroska","audio/x-mpegurl","audio/wav","video/3gpp","video/3gpp2","video/mp4","video/mpeg","video/ogg","video/quicktime","video/webm","video/x-f4v","video/x-fli","video/x-flv","video/x-m4v","video/x-matroska","global","audioPlayer","audioAnalyser","audioContext","RayInput","InitService","WebGLRenderer","antialias","setPixelRatio","devicePixelRatio","handler","initInput","input","default","getSize","getMesh","Scene","OrbitControls","minDistance","maxDistance","enableZoom","enablePan","initAmbient","ambient","text","initAudio","callback","source","loop","node","stereo","audible","destination","object","scope","reorder","enabled","deviceOrientation","screenOrientation","alphaOffset","zee","euler","q0","q1","onDeviceOrientationChangeEvent","event","onScreenOrientationChangeEvent","orientation","setObjectQuaternion","Euler","sqrt","beta","gamma","orient","setFromEuler","multiply","setFromAxisAngle","disconnect","device","dispose","offset","quat","quatInverse","lastPosition","lastQuaternion","target","Infinity","minZoom","maxZoom","minPolarAngle","maxPolarAngle","minAzimuthAngle","maxAzimuthAngle","enableDamping","dampingFactor","zoomSpeed","rotateSpeed","panSpeed","screenSpacePanning","keyPanSpeed","autoRotate","autoRotateSpeed","enableKeys","keys","LEFT","UP","RIGHT","BOTTOM","mouseButtons","ORBIT","MOUSE","ZOOM","MIDDLE","PAN","target0","position0","zoom0","zoom","getPolarAngle","spherical","phi","getAzimuthalAngle","theta","saveState","reset","dispatchEvent","changeEvent","state","STATE","NONE","setFromUnitVectors","up","sub","applyQuaternion","setFromVector3","rotateLeft","sphericalDelta","makeSafe","radius","panOffset","setFromSpherical","lookAt","zoomChanged","distanceToSquared","EPS","dot","onContextMenu","onMouseDown","onMouseWheel","onTouchStart","onTouchEnd","onTouchMove","onMouseMove","onMouseUp","onKeyDown","startEvent","endEvent","ROTATE","DOLLY","TOUCH_ROTATE","TOUCH_DOLLY_PAN","Spherical","rotateStart","Vector2","rotateEnd","rotateDelta","panStart","panEnd","panDelta","dollyStart","dollyEnd","dollyDelta","getZoomScale","angle","rotateUp","panLeft","distance","objectMatrix","setFromMatrixColumn","panUp","crossVectors","pan","deltaX","deltaY","element","body","isPerspectiveCamera","targetDistance","clientHeight","matrix","isOrthographicCamera","right","left","clientWidth","top","bottom","console","dollyIn","dollyScale","dollyOut","preventDefault","button","clientX","clientY","handleMouseDownRotate","handleMouseDownDolly","handleMouseDownPan","subVectors","handleMouseMoveRotate","handleMouseMoveDolly","handleMouseMovePan","stopPropagation","handleMouseWheel","keyCode","handleKeyDown","touches","pageX","pageY","handleTouchStartRotate","dx","dy","handleTouchStartDollyPan","handleTouchMoveRotate","handleTouchMoveDollyPan","passive","prototype","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_create___default","EventDispatcher","constructor","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_properties___default","center","get","noZoom","value","noRotate","noPan","noKeys","staticMoving","dynamicDampingFactor"],"mappings":"uCASAA,MAAMC,aAAe,SAAUC,GAa7B,IAAIC,EAAQC,EATZC,KAAKC,WAAa,EAKlBD,KAAKE,YAAc,GAMnB,IAOIC,EACAC,EAAQC,EAAQC,EAAMC,EACtBC,EAAOC,EAAiBC,EACxBC,EAVAC,EAAY,IAAIjB,MAAMkB,QACtBC,EAAc,IAAInB,MAAMoB,WACxBC,EAAS,IAAIrB,MAAMkB,QAEnBI,EAAW,IAAItB,MAAMuB,kBACrBC,EAAW,IAAIxB,MAAMuB,kBASzBrB,EAASuB,WAAY,EAErBpB,KAAKqB,QAAU,SAAUC,EAAOC,GAE9BzB,EAASwB,EAAQ,EACjBvB,EAAUwB,EAEV1B,EAASwB,QAAQC,EAAOC,IAI1BvB,KAAKwB,OAAS,SAAUC,EAAOC,GAE7BD,EAAME,yBAEgBC,IAAlBF,EAAOG,QAAsBH,EAAOC,oBAExCD,EAAOI,YAAYC,UAAUnB,EAAWE,EAAaE,GAKrDb,EAAOR,MAAMqC,KAAKC,SAAS,EAAID,KAAKE,KAAKF,KAAKG,IAAsC,GAAlCxC,MAAMqC,KAAKI,SAASV,EAAOW,QAE7E7B,EAAQkB,EAAOY,KAAOtC,KAAKE,YAC3BQ,EAAmBsB,KAAKG,IAAgC,GAA5BxC,MAAMqC,KAAKI,SAASjC,IAAeH,KAAKE,YACpEO,EAAqC,GAAnBC,EAAyBgB,EAAOa,OAGlDhC,IADAD,EAAOI,EAAmBF,GAE1BG,GAAgBF,EAAkBT,KAAKC,WAAa,IAA0B,EAAlBQ,GAG5DL,EAA2B,EAAlBK,EAAwBD,GAFlB,EAAMG,GAGrBN,EAA2B,EAAlBI,EAAwBD,EAAQG,EAGzCM,EAASuB,iBAAiBC,iBAAiBrC,EACzCC,EACAC,EACAC,EACAmB,EAAOY,KACPZ,EAAOgB,KAGTzB,EAAS0B,SAASC,KAAKhC,GACvBK,EAAS4B,WAAWD,KAAK9B,GACzBG,EAAS6B,YAAY9C,KAAKC,WAAa,GAIvCkB,EAASqB,iBAAiBC,iBAAiBpC,EACzCD,EACAE,EACAC,EACAmB,EAAOY,KACPZ,EAAOgB,KAGTvB,EAASwB,SAASC,KAAKhC,GACvBO,EAAS0B,WAAWD,KAAK9B,GACzBK,EAAS2B,WAAW9C,KAAKC,WAAa,GAItCJ,EAASkD,YAAY,EAAG,EAAY,EAATjD,EAAYC,GACvCF,EAASmD,QAETnD,EAASkD,YAAY,EAAG,EAAGjD,EAAQC,GACnCF,EAAS2B,OAAOC,EAAOR,GAEvBpB,EAASkD,YAAYjD,EAAQ,EAAGA,EAAQC,GACxCF,EAAS2B,OAAOC,EAAON,+DClD3B,IAAA8B,KAEAC,QAEA,yBAGAC,+HAKAC,EAAA,sEACA,YAIAC,KAAA,2CACA,mBAGAF,aACAG,gBACAA,cACAA,4DAGA,uBAIAH,kCAGA,KACA,gBACA,iBACA,aAEA,oDAIAI,mCACAA,wFAEAvD,WACAwD,mBAEAA,+CAIA,iBACAC,0BACA,4CACA,yCACAC,wBAEAC,gDAIAC,MAEA,2EAIArC,kCAEAA,8CAIA,EAFA,IAAAsC,EAAA7D,KAIA8D,+CACA,4GAGA,8GAGA,oFAQA,2DAKA,qBAEAC,6GAiEA,gBA7DAC,UACAA,EAAA,qGAGAC,uBAKAC,GAHAC,IAMAJ,uBAGA,IAAAK,EAAApE,sEAKAqE,wBAEA,IACA,oDAEA/C,sBACAC,6BAEAD,sBACAC,qDAEA,mBACA,0CAIA,SAEAqC,gDAKAU,oEAOAC,cAGAT,IAGAb,SAEAuB,EAAA,OC7NA,IAGAC,GADiBjD,OAFjB,WAA0B,IAAAkD,EAAA1E,KAAa2E,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,MAAAL,EAAAM,MAAAC,MAAAP,EAAA,MAAAQ,OAAyCC,QAAA,MAAAC,KAAAV,EAAAW,MAAA,qBAAAC,aAAAZ,EAAAW,MAAAE,EAAAb,EAAAa,EAAAC,EAAAd,EAAAc,EAAAlE,MAAAoD,EAAApD,MAAAC,OAAAmD,EAAAnD,OAAAkE,QAAAf,EAAAgB,OAA8JhB,EAAAiB,GAAA,WAAAjB,EAAAZ,MAAAY,EAAAZ,KAAA8B,MAAAlB,EAAAmB,GAAAnB,EAAAZ,KAAA,eAAAgC,EAAAC,GAA0F,OAAAlB,EAAA,OAAAH,EAAAsB,IAAyBC,IAAA,QAAAF,GAAkB,OAAAD,GAAA,MAAqBpB,EAAAwB,KAAAxB,EAAAyB,GAAA,KAAAzB,EAAAZ,MAAAY,EAAAZ,KAAAsC,SAAA1B,EAAAmB,GAAAnB,EAAAZ,KAAA,kBAAAuC,EAAAN,GAAsG,OAAAlB,EAAA,UAAAH,EAAAsB,IAA4BC,IAAA,WAAAF,GAAqB,UAAAM,GAAA,MAA2B3B,EAAAwB,KAAAxB,EAAAyB,GAAA,KAAAzB,EAAAZ,MAAAY,EAAAZ,KAAAC,KAAAc,EAAA,KAA2DyB,UAAUC,UAAA7B,EAAA8B,GAAA9B,EAAAX,SAA6BW,EAAAwB,QAAA,IAE9sBO,oBCCjB,IAcAC,EAdAC,EAAA,OAcAC,CACA1D,EACAuB,GATA,EAVA,SAAAoC,GACAF,EAAA,SAaA,KAEA,MAUAG,EAAA,EAAAJ,EAAA,iICvBAK,GADiBvF,OAFjB,WAA0B,IAAamD,EAAb3E,KAAa4E,eAA0BC,EAAvC7E,KAAuC8E,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBK,OAAOhB,GAAA,SAAYW,EAAA,oBAE5G4B,oBCCjB,IAuBAO,EAvBAL,EAAA,OAcAC,OCRA,ODUAG,GATA,EAVA,SAAAF,GACAF,EAAA,SAaA,KAEA,MAUA,oBEzBIM,EAAU,IADEN,EAAQ,SAElBO,EAASP,EAAQ,QA6CvBQ,GA1CEC,SACEC,eADO,WAELJ,EAAQK,SACRC,SAASC,oBAAoB,QAASxH,KAAKqH,gBAAgB,IAE7DI,SALO,WAML,OAAOP,KAETQ,MARO,WASL1H,KAAK2H,KAAKC,MAAQ5H,KAAK2H,KAAKC,KAC5B5H,KAAK6H,gBAEPC,cAZO,WAaD9H,KAAK2H,KAAKI,aACRR,SAASS,gBACXT,SAASS,iBACThI,KAAK2H,KAAKI,cAAe,GAChBR,SAASU,qBAClBV,SAASU,sBACTjI,KAAK2H,KAAKI,cAAe,GAChBR,SAASW,uBAClBX,SAASW,uBACTlI,KAAK2H,KAAKI,cAAe,GAGvBR,SAASY,gBAAgBC,mBAC3Bb,SAASY,gBAAgBC,oBACzBpI,KAAK2H,KAAKI,cAAe,GAChBR,SAASY,gBAAgBE,sBAClCd,SAASY,gBAAgBE,uBACzBrI,KAAK2H,KAAKI,cAAe,GAChBR,SAASY,gBAAgBG,yBAClCf,SAASY,gBAAgBG,0BACzBtI,KAAK2H,KAAKI,cAAe,GAChBR,SAASY,gBAAgBI,sBAClChB,SAASY,gBAAgBI,sBACzBvI,KAAK2H,KAAKI,cAAe,kBCDnCS,GAvCEpB,SACEqB,WADO,WAELlB,SAASmB,iBAAiB,QAAS1I,KAAKqH,gBAAgB,GACxDsB,OAAOD,iBAAiB,SAAU1I,KAAK6H,cAAc,GACrDc,OAAOD,iBACL,oBACA1I,KAAK4I,qBACL,IAGJA,oBAVO,SAUaC,GACbA,EAAEC,QAIP9I,KAAK2H,KAAKoB,SAAW,IAAIpJ,MAAMqJ,0BAC7BhJ,KAAK2H,KAAKjG,QACV,GAEF1B,KAAK2H,KAAKoB,SAASE,UACnBjJ,KAAK2H,KAAKoB,SAASG,SAEnBP,OAAOnB,oBACL,oBACAxH,KAAK4I,qBACL,KAGJf,aA5BO,WA6BL7H,KAAK2H,KAAKjG,OAAOa,OAASoG,OAAOQ,WAAaR,OAAOS,YACrDpJ,KAAK2H,KAAKjG,OAAO2H,yBAEbrJ,KAAK2H,KAAKF,UAAYzH,KAAK2H,KAAKC,MAClC5H,KAAK2H,KAAK2B,OAAOjI,QAAQsH,OAAOQ,WAAYR,OAAOS,aAErDpJ,KAAK2H,KAAK9H,SAASwB,QAAQsH,OAAOQ,WAAYR,OAAOS,gBCpCrDG,EAAW5C,EAAQ,QACnB6C,EAAc7C,EAAQ,QACtB8C,EAAY9C,EAAQ,QACpB+C,EAAe/C,EAAQ,QACvBgD,EAAe,kBAAMH,GAAaxH,KAAK4H,GAAI5H,KAAK4H,KAEhDC,EAAU,IAAIlD,EAAQ,SAqO5BmD,GAlOEC,KADmB,WAEjB,OACEC,aACEC,EAAG,sBACHC,EAAG,wBAIT9C,SACE+C,QADO,WAGLnK,KAAK2H,KAAKyC,WAAWC,KAAO,IAAI1K,MAAM2K,SAGtC,IAAIC,EAAQ,IAAI5K,MAAM6K,WAAW,GAAI,IAAKxK,KAAK2H,KAAK8C,OAAOC,YAAa1K,KAAK2H,KAAK8C,OAAOC,aACzFH,EAAM5H,SAAS6C,GAAK,GACpB+E,EAAM5H,SAASgI,GAAK,IACpBJ,EAAMhH,MAAMqH,eAAe,KAE3B,IAAIC,EAAQ,IAAIlL,MAAM6K,WAAW,GAAI,IAAKxK,KAAK2H,KAAK8C,OAAOC,YAAa1K,KAAK2H,KAAK8C,OAAOC,aACzFG,EAAMlI,SAAS6C,GAAK,GACpBqF,EAAMlI,SAASgI,EAAI,EACnBE,EAAMtH,MAAMqH,eAAe,KAE3B,IAAIE,EAAQ,IAAInL,MAAM6K,WAAW,GAAI,IAAKxK,KAAK2H,KAAK8C,OAAOC,YAAa1K,KAAK2H,KAAK8C,OAAOC,aACzFI,EAAMnI,SAAS6C,GAAK,GACpBsF,EAAMnI,SAASgI,EAAI,IACnBG,EAAMvH,MAAMqH,eAAe,KAG3B5K,KAAK2H,KAAKyC,WAAWC,KAAKU,IAAIR,GAC9BvK,KAAK2H,KAAKyC,WAAWC,KAAKU,IAAIF,GAC9B7K,KAAK2H,KAAKyC,WAAWC,KAAKU,IAAID,GAG9B9K,KAAK2H,KAAKlG,MAAMsJ,IAAI/K,KAAK2H,KAAKyC,WAAWC,OAE3CW,UA7BO,SA6BGC,EAAcC,GAEtBlL,KAAK2H,KAAKyC,WAAWe,aAAe,IAAIxL,MAAMyL,aAAaH,GAC3DjL,KAAK2H,KAAKlG,MAAMsJ,IAAI/K,KAAK2H,KAAKyC,WAAWe,cAGzCnL,KAAK2H,KAAKyC,WAAWiB,OAAO,GAAK,IAAI1L,MAAM2L,iBACzCJ,EACA,GAEFlL,KAAK2H,KAAKyC,WAAWiB,OAAO,GAAG1I,SAAS4I,IAAI,EAAG,EAAG,GAClDvL,KAAK2H,KAAKlG,MAAMsJ,IAAI/K,KAAK2H,KAAKyC,WAAWiB,OAAO,KAElDG,SA1CO,SA0CEC,EAAQC,GAEf1L,KAAK2H,KAAKyC,WAAWuB,MAAQ,IAAIhM,MAAM2K,SAGvC,IAAK,IAAIvE,EAAI,EAAGA,EAAI0F,EAAQ1F,IAAK,CAE/B,IAAIxE,EAASkI,EAAU,EAAE,IACrBmC,EAAW,IAAIjM,MAAMkM,aAAa,EAAGtK,EAAQ,GAG7CuK,EAAW,IAAInM,MAAMoM,mBACvBL,MAAOA,EACPM,aAAa,IAIXC,EAAO,IAAItM,MAAMuM,KAAKN,EAAUE,EAASK,SAC7CF,EAAKtJ,SAASyJ,WACZ5C,EAAY,GAAIxJ,KAAKqM,MAAMC,MAAMC,QAAU,KACzC,GAAIhL,EAAO,GACbiI,EAAYxJ,KAAKqM,MAAMC,MAAMC,QAAU,GAAKvM,KAAKqM,MAAMC,MAAMC,QAAU,IAEzEN,EAAKO,SAAShH,EAAIiE,EAAU,EAAG,KAG/B,IAAIgD,EAAYR,EAAKE,QACrBM,EAAU9J,SAAS4C,IAAM,EAGzBvF,KAAK2H,KAAKyC,WAAWuB,MAAMZ,IAAIkB,GAC/BjM,KAAK2H,KAAKyC,WAAWuB,MAAMZ,IAAI0B,GAIjCzM,KAAK2H,KAAKlG,MAAMsJ,IAAI/K,KAAK2H,KAAKyC,WAAWuB,QAE3Ce,aA/EO,SA+EMjB,EAAQC,GAEnB1L,KAAK2H,KAAKyC,WAAWuC,UAAY,IAAIhN,MAAM2K,SAiC3C,IAVA,IAAIsC,EAAarD,EAAS,IAAIsD,IApB9B,WACE,IAAMjB,EAAW,IAAIjM,MAAMmN,oBAAoB,EAAGrD,EAAU,EAAG,IAe/D,OAdAmC,EAASmB,SAASC,QAAQ,SAAAC,GAIxB,IAHA,IACIC,EAAIlL,KAAKmL,IAAI,EADL,GAERC,EAAI,IACCrH,EAAI,EAAGA,EAHJ,EAGeA,IACzBkH,EAAE1H,GAAK6H,EAAIvD,EAAQwD,QAAQJ,EAAE1H,EAAI2H,EAAI,EAAGD,EAAEzH,EAAI0H,EAAGD,EAAEtC,EAAIuC,GACvDD,EAAEzH,GAAK4H,EAAIvD,EAAQwD,QAAQJ,EAAE1H,EAAI2H,EAAGD,EAAEzH,EAAI0H,EAAI,EAAGD,EAAEtC,EAAIuC,GACvDD,EAAEtC,GAAKyC,EAAIvD,EAAQwD,QAAQJ,EAAE1H,EAAI2H,EAAGD,EAAEzH,EAAI0H,EAAGD,EAAEtC,EAAIuC,EAAI,GACvDA,GAAK,IACLE,GAAK,EARK,EAQOrH,IAGrB6F,EAAS0B,qBACT1B,EAAS2B,qBAAsB,EACxB3B,IAOLE,EAAW,IAAInM,MAAMoM,mBACvBL,MAAOA,EACP8B,WAAW,EACXC,KAAM9N,MAAM+N,aAIL3H,EAAI,EAAGA,EAAI0F,EAAQ1F,IAAK,CAC/B,IAAI6F,EAAWgB,EAAWnD,EAAUmD,EAAWe,OAAS,IACpD1B,EAAO,IAAItM,MAAMuM,KAAKN,EAAUE,EAASK,SAC7CF,EAAKH,SAAS8B,QAAUpE,EAAY,IAAM,IAC1CyC,EAAK1I,MAAMqH,eAAepB,EAAY,GAAK,MAC3CyC,EAAKO,SAASJ,UAnIO7C,EAAS,GAAGsD,IAAIlD,IAoIrCsC,EAAK4B,WAAY,IAAIlO,MAAMkB,SAAUuL,UAAU1C,OAC/CuC,EAAKtJ,SAASyJ,WACZ5C,EAAYxJ,KAAKqM,MAAMC,MAAMC,QAAU,GAAKvM,KAAKqM,MAAMC,MAAMC,QAAU,EACvE/C,EAAYxJ,KAAKqM,MAAMC,MAAMC,QAAU,GACvC/C,EAAYxJ,KAAKqM,MAAMC,MAAMC,QAAU,GAAKvM,KAAKqM,MAAMC,MAAMC,QAAU,IAIzEvM,KAAK2H,KAAKyC,WAAWuC,UAAU5B,IAAIkB,GAIrCjM,KAAK2H,KAAKyC,WAAWuC,UAAUmB,SAAU,EACzC9N,KAAK2H,KAAKlG,MAAMsJ,IAAI/K,KAAK2H,KAAKyC,WAAWuC,YAE3CoB,QAvIO,SAuICC,EAAeC,EAAeC,EAAMC,GAE1CnO,KAAK2H,KAAKyC,WAAWgE,KAAO,IAAIzO,MAAM2K,SAGtC,IAAIsB,EAAW,IAAIjM,MAAMK,KAAKgK,YAAYkE,IAAO,GAAIC,GAGjDE,EAAmB,IAAI1O,MAAMoM,mBAC/BL,MAAOuC,EACPT,WAAW,IAETc,EAAe,IAAI3O,MAAMoM,mBAC3BL,MAAOsC,EACPhC,aAAa,IAIXuC,EAAe,IAAI5O,MAAMuM,KAAKN,EAAUyC,EAAiBlC,SAC7DoC,EAAa5L,SAAS6C,EAAI,EAC1B+I,EAAa5L,SAASgI,EAAI,EAC1B4D,EAAahL,MAAMgC,EAAIgJ,EAAahL,MAAMiC,EAAI+I,EAAahL,MAAMoH,EAAI,IAGrE,IAAI6D,EAAW,IAAI7O,MAAMuM,KAAKN,EAAU0C,EAAanC,SACrDqC,EAAS7L,SAAS6C,EAAI,EACtBgJ,EAAS7L,SAASgI,EAAI,EACtB6D,EAASjL,MAAMgC,EAAIiJ,EAASjL,MAAMiC,EAAIgJ,EAASjL,MAAMoH,EAAI,GAGzD3K,KAAK2H,KAAKyC,WAAWgE,KAAKrD,IAAIwD,GAC9BvO,KAAK2H,KAAKyC,WAAWgE,KAAKrD,IAAIyD,GAG9BxO,KAAK2H,KAAKlG,MAAMsJ,IAAI/K,KAAK2H,KAAKyC,WAAWgE,OAE3CK,cA3KO,SA2KOC,EAAOC,EAAQjD,GAE3B1L,KAAK2H,KAAKyC,WAAWwE,WAAa,IAAIjP,MAAM2K,SAG5C,IAAIwB,EAAW,IAAInM,MAAMoM,mBACvBL,MAAOA,IAILmD,EAAgB,IAAIlP,MAAMmP,aAAaJ,GACzCK,KAAM/O,KAAK2H,KAAKoH,KAChBC,KAAM,GACNzN,OAAQ,KAEVsN,EAAcI,qBAEd,IAAIC,EAAiB,IAAIvP,MAAMmP,aAAaH,GAC1CI,KAAM/O,KAAK2H,KAAKoH,KAChBC,KAAM,GACNzN,OAAQ,KAEV2N,EAAeD,qBAGf,IAAIE,EAAY,IAAIxP,MAAMuM,KAAK2C,EAAe/C,GAC1CsD,GAAqB,IACtBP,EAAcQ,YAAYC,IAAI/J,EAAIsJ,EAAcQ,YAAYE,IAAIhK,GACnE4J,EAAUxM,SAASyJ,WAAWgD,GAAoB,EAAG,IAGrD,IAAII,EAAa,IAAI7P,MAAMuM,KAAKgD,EAAgBpD,GAC5C2D,GAAsB,IACvBP,EAAeG,YAAYC,IAAI/J,EAAI2J,EAAeG,YAAYE,IAAIhK,GACrEiK,EAAW7M,SAASyJ,WAAWqD,GAAqB,EAAG,IAGvDzP,KAAK2H,KAAKyC,WAAWwE,WAAW7D,IAAIoE,GACpCnP,KAAK2H,KAAKyC,WAAWwE,WAAW7D,IAAIyE,GAGpCxP,KAAK2H,KAAKyC,WAAWwE,WAAWjM,SAAS6C,GAAK,EAC9CxF,KAAK2H,KAAKyC,WAAWwE,WAAWjM,SAASgI,EAAI,IAC7C3K,KAAK2H,KAAKlG,MAAMsJ,IAAI/K,KAAK2H,KAAKyC,WAAWwE,eCvOzCc,EAAwB/I,EAAQ,QAyJtCgJ,GAtJEvI,SACEwI,YADO,WAEL5P,KAAK2H,KAAKyC,WAAWC,KAAKwF,SAAS,GAAGlN,SAASgI,GAAK,EACpD3K,KAAK2H,KAAKyC,WAAWC,KAAKwF,SAAS,GAAGlN,SAASgI,GAAK,EACpD3K,KAAK2H,KAAKyC,WAAWC,KAAKwF,SAAS,GAAGlN,SAASgI,GAAK,EAEjD3K,KAAK2H,KAAKyC,WAAWC,KAAKwF,SAAS,GAAGlN,SAASgI,EAAI,MACpD3K,KAAK2H,KAAKyC,WAAWC,KAAKwF,SAAS,GAAGlN,SAASgI,GAAK,KAEnD3K,KAAK2H,KAAKyC,WAAWC,KAAKwF,SAAS,GAAGlN,SAASgI,EAAI,MACpD3K,KAAK2H,KAAKyC,WAAWC,KAAKwF,SAAS,GAAGlN,SAASgI,GAAK,KAEnD3K,KAAK2H,KAAKyC,WAAWC,KAAKwF,SAAS,GAAGlN,SAASgI,EAAI,MACpD3K,KAAK2H,KAAKyC,WAAWC,KAAKwF,SAAS,GAAGlN,SAASgI,GAAK,MAGxDmF,aAhBO,SAgBMC,GAEX,IAAK,IAAIhK,EAAI,EAAGA,EAAI/F,KAAK2H,KAAKyC,WAAWuB,MAAMkE,SAASlC,OAAQ5H,IAAK,CAEnE,IAAIiK,EAAOhQ,KAAK2H,KAAKyC,WAAWuB,MAAMkE,SAAS9J,GAG/CiK,EAAKrN,SAASgI,GAAK,EAEfqF,EAAKrN,SAASgI,EAAI3K,KAAKqM,MAAMC,MAAMC,QAAU,IAC/CyD,EAAKrN,SAASgI,GAAK3K,KAAKqM,MAAMC,MAAMC,QAAU,GAI5CwD,EAAMhK,KAOdkK,iBArCO,SAqCUF,GAEf/P,KAAK2H,KAAKyC,WAAWuC,UAAUmB,SAAU,EAGzC,IAAK,IAAI/H,EAAI,EAAGA,EAAI/F,KAAK2H,KAAKyC,WAAWuC,UAAUkD,SAASlC,OAAQ5H,IAAK,CAEvE,IAAImK,EAAWlQ,KAAK2H,KAAKyC,WAAWuC,UAAUkD,SAAS9J,GAGvDmK,EAASvN,SAASgI,GAAK,GACvBuF,EAAS1D,SAAS7B,GAAK,IAEnBuF,EAASvN,SAASgI,EAAI3K,KAAKqM,MAAMC,MAAMC,QAAU,KACnD2D,EAASvN,SAASgI,GAAK3K,KAAKqM,MAAMC,MAAMC,QAAU,GAIpC,GAAZwD,EAAMhK,KACRmK,EAAS3M,MAAMgC,EAAIwK,EAAMhK,GAAK,GAC9BmK,EAAS3M,MAAMiC,EAAIuK,EAAMhK,GAAK,GAC9BmK,EAAS3M,MAAMoH,EAAIoF,EAAMhK,GAAK,MAIpCoK,YA9DO,SA8DKjC,EAAM6B,GAChB,OAAQ7B,GACN,IAAK,UACHlO,KAAK2H,KAAKyC,WAAWgE,KAAKyB,SAAS,GAAGrD,SAASjH,GAAK,KACpDvF,KAAK2H,KAAKyC,WAAWgE,KAAKyB,SAAS,GAAGrD,SAASjH,GAAK,KACpD,MAEF,IAAK,WACHvF,KAAK2H,KAAKyC,WAAWgE,KAAKyB,SAAS,GAAGrD,SAASjH,GAAK,KACpDvF,KAAK2H,KAAKyC,WAAWgE,KAAKyB,SAAS,GAAGrD,SAASjH,GAAK,KACpD,MAEF,IAAK,QAEH,GAAKwK,EAmBE,CAEL,IAAIK,EAAUV,EACZ1P,KAAKqM,MAAMC,MAAM+D,SAASA,SAC1BN,EACA,GACA,KAGEO,EAASZ,EACX1P,KAAKqM,MAAMC,MAAM+D,SAASA,SAC1BN,EACA,IACA,KAGa,GAAXK,IACFpQ,KAAK2H,KAAKyC,WAAWgE,KAAKyB,SAAS,GAAGtM,MAAMgC,EAAI6K,EAAU,GAC1DpQ,KAAK2H,KAAKyC,WAAWgE,KAAKyB,SAAS,GAAGtM,MAAMiC,EAAI4K,EAAU,GAC1DpQ,KAAK2H,KAAKyC,WAAWgE,KAAKyB,SAAS,GAAGtM,MAAMoH,EAAIyF,EAAU,IAE9C,GAAVE,IACFtQ,KAAK2H,KAAKyC,WAAWgE,KAAKyB,SAAS,GAAGtM,MAAMgC,EAAI+K,EAAS,EACzDtQ,KAAK2H,KAAKyC,WAAWgE,KAAKyB,SAAS,GAAGtM,MAAMiC,EAAI8K,EAAS,EACzDtQ,KAAK2H,KAAKyC,WAAWgE,KAAKyB,SAAS,GAAGtM,MAAMoH,EAAI2F,EAAS,QAzCzDtQ,KAAK2H,KAAKyC,WAAWgE,KAAKyB,SAAS,GAAGtM,MAAMgC,EAAI,KAChDvF,KAAK2H,KAAK4I,WAAWC,QAErBxQ,KAAK2H,KAAKyC,WAAWgE,KAAKyB,SAAS,GAAGtM,MAAMkN,UAAU,MAC7CzQ,KAAK2H,KAAKyC,WAAWgE,KAAKyB,SAAS,GAAGtM,MAAMgC,GAAK,MAC1DvF,KAAK2H,KAAK4I,WAAWC,SAAU,EAC/BxQ,KAAK2H,KAAK4I,WAAWG,WAAY,GAGjC1Q,KAAK2H,KAAKyC,WAAWgE,KAAKyB,SAAS,GAAGtM,MAAMgC,EAAI,KAChDvF,KAAK2H,KAAK4I,WAAWG,UAErB1Q,KAAK2H,KAAKyC,WAAWgE,KAAKyB,SAAS,GAAGtM,MAAMoN,UAAU,MAC7C3Q,KAAK2H,KAAKyC,WAAWgE,KAAKyB,SAAS,GAAGtM,MAAMgC,GAAK,MAC1DvF,KAAK2H,KAAK4I,WAAWC,SAAU,EAC/BxQ,KAAK2H,KAAK4I,WAAWG,WAAY,KAiC3CE,cA9HO,YA+HA5Q,KAAK2H,KAAK4I,WAAWM,kBACxB7Q,KAAK2H,KAAKjG,OAAOiB,SAASgI,EAAI,GAE9B3K,KAAK2H,KAAKjG,OAAOiB,SAASgI,GAAK,KAE/B3K,KAAK2H,KAAK4I,WAAWM,kBAAmB,EACnC7Q,KAAK2H,KAAKF,WACbzH,KAAK2H,KAAKoB,SAAS+H,cAAe,KAKxCC,kBA3IO,YA4IA/Q,KAAK2H,KAAK4I,WAAWS,sBACxBhR,KAAK2H,KAAKyC,WAAWwE,WAAWjM,SAASgI,GAAK,EAE9C3K,KAAK2H,KAAKyC,WAAWwE,WAAWjM,SAASgI,GAAK,IAE9C3K,KAAK2H,KAAK4I,WAAWS,sBAAuB,KCrIpD3E,GAf8B1F,EAAQ,SAGpCS,SACE6J,KADO,WAE2B,YAA5BjR,KAAKqM,MAAMC,MAAM4E,QACnBlR,KAAKqM,MAAMC,MAAM6E,OAAOC,QACxBpR,KAAKqM,MAAMC,MAAM4E,OAAS,WAE1BlR,KAAKqM,MAAMC,MAAM6E,OAAOF,OACxBjR,KAAKqM,MAAMC,MAAM4E,OAAS,uBCgBlC,kBAEA/J,EACAkK,EAAA,EACA7I,EACAsB,EACA6F,EAEAtD,uCAIA,WACA,cACA,YACA,cACA,WACA,0BAEA,aACA,oBACA,wBAEA,sJAcA,oCAGA,eACA,aAEA,eACA,mBACA5E,yBACA,QAEA,yBAGA,YACA,yBACA,cACA,YACA,YACA,UAEA,YACA,sBAGA,6CAGA6J,+CAKAtR,UAGAuR,eAEAhK,SAAAiK,eACA,QAAAC,YAAAzR,KAAA2H,KAAA9H,SAEA6R,iBAGAC,cAGAC,iBAGAC,wBAEAC,uEAIA/C,gBAGAgD,KAGA5H,YAEAuC,aAAAqF,EAAA1F,MAAAC,MAAAC,QACA,EAAAwF,EAAApK,KAAA8C,OAGAyF,4DAGAvE,SAEAoC,QAAAgE,EAAApK,KAAA8C,OAAA2D,KACA4D,SAAAD,EAAApK,KAAA8C,OAAA2D,KACA6D,SACA,EAGA,KAMAC,iBAGAzJ,uCAIA0J,iEAQAA,cAGAC,8BAGAlJ,yDAMA6H,gEAKAH,oDAGA,iCAGAyB,oCAGAtC,qBAGAA,4BAGAA,QAEAH,4CAGA,SCrMA0C,GADiB9Q,OAFjB,WAA0B,IAAAkD,EAAA1E,KAAa2E,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAAA,EAAA,OAA2BK,OAAOhB,GAAA,UAAaQ,EAAAyB,GAAA,KAAAzB,EAAA2H,MAAAC,MAAAiG,OAAA7N,EAAAiD,KAAA4I,WAAAM,iBAAAhM,EAAA,OAAwFK,OAAOhB,GAAA,QAAYsO,IAAKC,MAAA,SAAAC,GAAyBhO,EAAAuM,WAAapM,EAAA,QAAa8N,YAAA,QAAAzN,OAA2BtB,KAAA,WAAAc,EAAA2H,MAAAC,MAAA4E,OAAA,eAAA3N,MAAA,UAA4E,GAAAmB,EAAAwB,KAAAxB,EAAAyB,GAAA,KAAAzB,EAAAiD,KAAAF,SAAgP/C,EAAAwB,KAAhPrB,EAAA,OAA0DK,OAAOhB,GAAA,cAAkBsO,IAAKC,MAAA,SAAAC,GAAyBhO,EAAAoD,oBAAsBjD,EAAA,QAAa8N,YAAA,QAAAzN,OAA2BtB,KAAAc,EAAAiD,KAAAI,aAAA,oBAAAxE,MAAA,QAAiE,GAAAmB,EAAAyB,GAAA,KAAAzB,EAAAiD,KAAA,SAAA9C,EAAA,OAAyDK,OAAOhB,GAAA,MAAUsO,IAAKC,MAAA,SAAAC,GAAyBhO,EAAAgD,YAAc7C,EAAA,QAAa8N,YAAA,QAAAzN,OAA2BtB,KAAAc,EAAAiD,KAAAC,KAAA,kBAAArE,MAAA,QAAuD,GAAAmB,EAAAwB,QAEt0BO,oBCCjB,IAuBAmM,EAvBAjM,EAAA,OAcAkM,CACAC,EACAR,GATA,EAVA,SAAAzL,GACAF,EAAA,SAaA,kBAEA,MAUA,QCtBAoM,EAAA,EAAIC,IAAIC,EAAA,GAER,IAAAC,EAAA,IAAmBD,EAAA,GACjBE,SAEIrN,KAAM,IACNlC,KAAM,UACNwP,UAAWR,8BCHjBG,EAAA,EAAIK,UAAU,OAAQlQ,EAAA,GAEtB6P,EAAA,EAAIM,OAAOC,eAAgB,EAG3B,IAAIP,EAAA,GACFQ,GAAI,OACJL,SACA9I,YAAcoJ,IAAAxM,GACdyM,SAAU,oDCjBZC,EAAAC,SAAkBC,cAAA,0BAAAC,aAAA,cAAAC,cAAA,uCAAAC,aAAA,mBAAAC,cAAA,QAAAC,oBAAA,OAAAC,mBAAA,OAAAC,aAAA,OAAAC,cAAA,OAAAC,eAAA,OAAAC,aAAA,qBAAAC,cAAA,gCAAAC,aAAA,OAAAC,mBAAA,YAAAC,cAAA,QAAAC,eAAA,OAAAC,eAAA,OAAAC,eAAA,OAAAC,eAAA,OAAAC,oBAAA,yDCAlB,SAAAC,KAAOrV,MAAQgH,EAAQ,QAEvBA,EAAQ,QACRA,EAAQ,QACRA,EAAQ,QAER,IAAMsO,EAActO,EAAQ,QACtBuO,EAAgBvO,EAAQ,QACxBwO,EAAexO,EAAQ,QAEvByO,EAAWzO,EAAQ,QAErB0O,GACFjO,SACEmK,aADO,WAELvR,KAAK2H,KAAK9H,SAAW,IAAIF,MAAM2V,eAC7BC,WAAW,EACXzM,OAAO,IAET9I,KAAK2H,KAAK9H,SAAS2V,cACjB7M,OAAO8M,iBAAmB9M,OAAO8M,iBAAmB,GAEtDzV,KAAK2H,KAAK9H,SAASwB,QAAQsH,OAAOQ,WAAYR,OAAOS,aACrDpJ,KAAK2H,KAAK9H,SAASuB,WAAY,GAEjCuQ,OAZO,WAaD3R,KAAK2H,KAAKF,WACZzH,KAAK2H,KAAK2B,OAAS,IAAI3J,MAAMC,aAAaI,KAAK2H,KAAK9H,UACpDG,KAAK2H,KAAK2B,OAAOjI,QAAQsH,OAAOQ,WAAYR,OAAOS,eAGvDgJ,SAlBO,WAmBL,IAAIsD,EAAU,WACV1V,KAAK2H,KAAKF,UAAYzH,KAAK2H,KAAKC,OAClC8N,EAAU,UAEZ1V,KAAK2H,KAAK+N,GAASlU,OAAOxB,KAAK2H,KAAKlG,MAAOzB,KAAK2H,KAAKjG,SAEvDiU,UAzBO,WA0BL3V,KAAK2H,KAAKiO,MAAQ,IAAIR,EAASS,QAAQ7V,KAAK2H,KAAKjG,OAAQ1B,KAAK2H,KAAK9H,SAAS6R,YAC5E1R,KAAK2H,KAAKiO,MAAMvU,QAAQrB,KAAK2H,KAAK9H,SAASiW,WAC3C9V,KAAK2H,KAAKlG,MAAMsJ,IAAI/K,KAAK2H,KAAKiO,MAAMG,YAEtCnE,UA9BO,WA+BL5R,KAAK2H,KAAKlG,MAAQ,IAAI9B,MAAMqW,OAE9BnE,WAjCO,WAkCL7R,KAAK2H,KAAKjG,OAAS,IAAI/B,MAAMuB,kBAC3B,GACAyH,OAAOQ,WAAaR,OAAOS,YAC3B,EACA,KAEFpJ,KAAK2H,KAAKjG,OAAOiB,SAASgI,EAAI,IAC9B3K,KAAK2H,KAAKjG,OAAOiB,SAAS6C,GAAK,EAC/BxF,KAAK2H,KAAKlG,MAAMsJ,IAAI/K,KAAK2H,KAAKjG,SAEhCwQ,aA5CO,WA6CLlS,KAAK2H,KAAKoB,SAAW,IAAIpJ,MAAMsW,cAC7BjW,KAAK2H,KAAKjG,OACV1B,KAAK2H,KAAK9H,SAAS6R,YAErB1R,KAAK2H,KAAKoB,SAASmN,YAAc,GACjClW,KAAK2H,KAAKoB,SAASoN,YAAc,IAEjCnW,KAAK2H,KAAKoB,SAAS+H,cAAe,EAClC9Q,KAAK2H,KAAKoB,SAASqN,YAAa,EAChCpW,KAAK2H,KAAKoB,SAASsN,WAAY,GAEjCC,YAxDO,SAwDKvE,GAEVA,EAAQ/G,UACN+G,EAAQpK,KAAK8C,OAAO8L,QACpBxE,EAAQpK,KAAK8C,OAAOC,aAItBqH,EAAQtD,cACNsD,EAAQ1F,MAAMqC,MACdqD,EAAQ1F,MAAMsC,OACdoD,EAAQpK,KAAK8C,OAAO+L,OAGxBC,UAtEO,SAsEGC,GAAU,IAAAtS,EAAApE,KAClBA,KAAKqM,MAAMC,MAAMyF,QAAUoD,IAC3BnV,KAAKqM,MAAMC,MAAM6E,OAAS8D,EAAYjV,KAAKqM,MAAMC,MAAMqK,QACrDC,MAAM,EACN7E,QAAS/R,KAAKqM,MAAMC,MAAMyF,UAG5B/R,KAAKqM,MAAMC,MAAM+D,SAAW6E,EAC1BlV,KAAKqM,MAAMC,MAAM6E,OAAO0F,KACxB7W,KAAKqM,MAAMC,MAAMyF,SAEf+E,QAAQ,EACRC,SAAS,IAGb/W,KAAKqM,MAAMC,MAAM+D,SAASA,SAAS9D,QAAUvM,KAAKqM,MAAMC,MAAMC,QAE9DvM,KAAKqM,MAAMC,MAAM6E,OAAOqB,GAAG,OAAQ,WACjCpO,EAAKiI,MAAMC,MAAMiG,OAAQ,EACzBnO,EAAKiI,MAAMC,MAAM6E,OAAO0F,KAAK5N,QAC3B7E,EAAKiI,MAAMC,MAAM6E,OAAOY,QAAQiF,aAElCN,EAAStS,EAAKiI,MAAMC,MAAMiG,YAKlCzL,EAAA,4CCvGAnH,MAAMqJ,0BAA4B,SAASiO,GACzC,IAAIC,EAAQlX,KAEZA,KAAKiX,OAASA,EACdjX,KAAKiX,OAAOzK,SAAS2K,QAAQ,OAE7BnX,KAAKoX,SAAU,EAEfpX,KAAKqX,qBACLrX,KAAKsX,kBAAoB,EAEzBtX,KAAKuX,YAAc,EAEnB,IAWMC,EAEAC,EAEAC,EAEAC,EAjBFC,EAAiC,SAASC,GAC5CX,EAAMG,kBAAoBQ,GAGxBC,EAAiC,WACnCZ,EAAMI,kBAAoB3O,OAAOoP,aAAe,GAK9CC,GACER,EAAM,IAAI7X,MAAMkB,QAAQ,EAAG,EAAG,GAE9B4W,EAAQ,IAAI9X,MAAMsY,MAElBP,EAAK,IAAI/X,MAAMoB,WAEf4W,EAAK,IAAIhY,MAAMoB,YAAYiB,KAAKkW,KAAK,IAAM,EAAG,EAAGlW,KAAKkW,KAAK,KAExD,SAASrV,EAAYiG,EAAOqP,EAAMC,EAAOC,GAC9CZ,EAAMlM,IAAI4M,EAAMrP,GAAQsP,EAAO,OAE/BvV,EAAWyV,aAAab,GAExB5U,EAAW0V,SAASZ,GAEpB9U,EAAW0V,SAASb,EAAGc,iBAAiBhB,GAAMa,MAIlDrY,KAAKiJ,QAAU,WACb6O,IAEAnP,OAAOD,iBACL,oBACAoP,GACA,GAEFnP,OAAOD,iBACL,oBACAkP,GACA,GAGFV,EAAME,SAAU,GAGlBpX,KAAKyY,WAAa,WAChB9P,OAAOnB,oBACL,oBACAsQ,GACA,GAEFnP,OAAOnB,oBACL,oBACAoQ,GACA,GAGFV,EAAME,SAAU,GAGlBpX,KAAKkJ,OAAS,WACZ,IAAsB,IAAlBgO,EAAME,QAAV,CAEA,IAAIsB,EAASxB,EAAMG,kBAEnB,GAAIqB,EAAQ,CACV,IAAI5P,EAAQ4P,EAAO5P,MACfnJ,MAAMqC,KAAKI,SAASsW,EAAO5P,OAASoO,EAAMK,YAC1C,EAEAY,EAAOO,EAAOP,KAAOxY,MAAMqC,KAAKI,SAASsW,EAAOP,MAAQ,EAExDC,EAAQM,EAAON,MAAQzY,MAAMqC,KAAKI,SAASsW,EAAON,OAAS,EAE3DC,EAASnB,EAAMI,kBACf3X,MAAMqC,KAAKI,SAAS8U,EAAMI,mBAC1B,EAEJU,EAAoBd,EAAMD,OAAOpU,WAAYiG,EAAOqP,EAAMC,EAAOC,MAIrErY,KAAK2Y,QAAU,WACbzB,EAAMuB,cAGRzY,KAAKiJ,6IC7FPtJ,MAAMsW,cAAgB,SAAUgB,EAAQvF,GA6GvB,IACTkH,EAGAC,EAIAC,EAEAC,EACAC,EAvHNhZ,KAAKiX,OAASA,EAEdjX,KAAK0R,gBAA4B9P,IAAf8P,EAA2BA,EAAanK,SAG1DvH,KAAKoX,SAAU,EAGfpX,KAAKiZ,OAAS,IAAItZ,MAAMkB,QAGxBb,KAAKkW,YAAc,EACnBlW,KAAKmW,YAAc+C,IAGnBlZ,KAAKmZ,QAAU,EACfnZ,KAAKoZ,QAAUF,IAIflZ,KAAKqZ,cAAgB,EACrBrZ,KAAKsZ,cAAgBtX,KAAK4H,GAI1B5J,KAAKuZ,iBAAmBL,IACxBlZ,KAAKwZ,gBAAkBN,IAIvBlZ,KAAKyZ,eAAgB,EACrBzZ,KAAK0Z,cAAgB,IAIrB1Z,KAAKoW,YAAa,EAClBpW,KAAK2Z,UAAY,EAGjB3Z,KAAK8Q,cAAe,EACpB9Q,KAAK4Z,YAAc,EAGnB5Z,KAAKqW,WAAY,EACjBrW,KAAK6Z,SAAW,EAChB7Z,KAAK8Z,oBAAqB,EAC1B9Z,KAAK+Z,YAAc,EAInB/Z,KAAKga,YAAa,EAClBha,KAAKia,gBAAkB,EAGvBja,KAAKka,YAAa,EAGlBla,KAAKma,MACHC,KAAM,GACNC,GAAI,GACJC,MAAO,GACPC,OAAQ,IAIVva,KAAKwa,cACHC,MAAO9a,MAAM+a,MAAMN,KACnBO,KAAMhb,MAAM+a,MAAME,OAClBC,IAAKlb,MAAM+a,MAAMJ,OAInBta,KAAK8a,QAAU9a,KAAKiZ,OAAO9M,QAC3BnM,KAAK+a,UAAY/a,KAAKiX,OAAOtU,SAASwJ,QACtCnM,KAAKgb,MAAQhb,KAAKiX,OAAOgE,KAMzBjb,KAAKkb,cAAgB,WACnB,OAAOC,EAAUC,KAGnBpb,KAAKqb,kBAAoB,WACvB,OAAOF,EAAUG,OAGnBtb,KAAKub,UAAY,WACfrE,EAAM4D,QAAQlY,KAAKsU,EAAM+B,QACzB/B,EAAM6D,UAAUnY,KAAKsU,EAAMD,OAAOtU,UAClCuU,EAAM8D,MAAQ9D,EAAMD,OAAOgE,MAG7Bjb,KAAKwb,MAAQ,WACXtE,EAAM+B,OAAOrW,KAAKsU,EAAM4D,SACxB5D,EAAMD,OAAOtU,SAASC,KAAKsU,EAAM6D,WACjC7D,EAAMD,OAAOgE,KAAO/D,EAAM8D,MAE1B9D,EAAMD,OAAO5N,yBACb6N,EAAMuE,cAAcC,GAEpBxE,EAAMhO,SAENyS,EAAQC,EAAMC,MAIhB7b,KAAKkJ,QACC0P,EAAS,IAAIjZ,MAAMkB,QAGnBgY,GAAO,IAAIlZ,MAAMoB,YAAa+a,mBAChC7E,EAAO8E,GACP,IAAIpc,MAAMkB,QAAQ,EAAG,EAAG,IAEtBiY,EAAcD,EAAK1M,QAAQzI,UAE3BqV,EAAe,IAAIpZ,MAAMkB,QACzBmY,EAAiB,IAAIrZ,MAAMoB,WAExB,WACL,IAAI4B,EAAWuU,EAAMD,OAAOtU,SAoE5B,OAlEAiW,EAAOhW,KAAKD,GAAUqZ,IAAI9E,EAAM+B,QAGhCL,EAAOqD,gBAAgBpD,GAGvBsC,EAAUe,eAAetD,GAErB1B,EAAM8C,YAAc2B,IAAUC,EAAMC,MACtCM,EA8IG,EAAIna,KAAK4H,GAAK,GAAK,GAAKsN,EAAM+C,iBA3InCkB,EAAUG,OAASc,EAAed,MAClCH,EAAUC,KAAOgB,EAAehB,IAGhCD,EAAUG,MAAQtZ,KAAKsN,IACrB4H,EAAMqC,gBACNvX,KAAKuN,IAAI2H,EAAMsC,gBAAiB2B,EAAUG,QAI5CH,EAAUC,IAAMpZ,KAAKsN,IACnB4H,EAAMmC,cACNrX,KAAKuN,IAAI2H,EAAMoC,cAAe6B,EAAUC,MAG1CD,EAAUkB,WAEVlB,EAAUmB,QAAU/Y,EAGpB4X,EAAUmB,OAASta,KAAKsN,IACtB4H,EAAMhB,YACNlU,KAAKuN,IAAI2H,EAAMf,YAAagF,EAAUmB,SAIxCpF,EAAM+B,OAAOlO,IAAIwR,GAEjB3D,EAAO4D,iBAAiBrB,GAGxBvC,EAAOqD,gBAAgBnD,GAEvBnW,EAASC,KAAKsU,EAAM+B,QAAQlO,IAAI6N,GAEhC1B,EAAMD,OAAOwF,OAAOvF,EAAM+B,SAEE,IAAxB/B,EAAMuC,eACR2C,EAAed,OAAS,EAAIpE,EAAMwC,cAClC0C,EAAehB,KAAO,EAAIlE,EAAMwC,cAEhC6C,EAAU3R,eAAe,EAAIsM,EAAMwC,iBAEnC0C,EAAe7Q,IAAI,EAAG,EAAG,GAEzBgR,EAAUhR,IAAI,EAAG,EAAG,IAGtBhI,EAAQ,KAONmZ,GACA3D,EAAa4D,kBAAkBzF,EAAMD,OAAOtU,UAAYia,GACxD,GAAK,EAAI5D,EAAe6D,IAAI3F,EAAMD,OAAOpU,aAAe+Z,KAExD1F,EAAMuE,cAAcC,GAEpB3C,EAAanW,KAAKsU,EAAMD,OAAOtU,UAC/BqW,EAAepW,KAAKsU,EAAMD,OAAOpU,YACjC6Z,GAAc,GAEP,KAOb1c,KAAK2Y,QAAU,WACbzB,EAAMxF,WAAWlK,oBAAoB,cAAesV,GAAe,GACnE5F,EAAMxF,WAAWlK,oBAAoB,YAAauV,GAAa,GAC/D7F,EAAMxF,WAAWlK,oBAAoB,QAASwV,GAAc,GAE5D9F,EAAMxF,WAAWlK,oBAAoB,aAAcyV,GAAc,GACjE/F,EAAMxF,WAAWlK,oBAAoB,WAAY0V,GAAY,GAC7DhG,EAAMxF,WAAWlK,oBAAoB,YAAa2V,GAAa,GAE/D5V,SAASC,oBAAoB,YAAa4V,GAAa,GACvD7V,SAASC,oBAAoB,UAAW6V,GAAW,GAEnD1U,OAAOnB,oBAAoB,UAAW8V,GAAW,IASnD,IAAIpG,EAAQlX,KAER0b,GACFxN,KAAM,UAEJqP,GACFrP,KAAM,SAEJsP,GACFtP,KAAM,OAGJ0N,GACFC,MAAO,EACP4B,OAAQ,EACRC,MAAO,EACP7C,IAAK,EACL8C,aAAc,EACdC,gBAAiB,GAGfjC,EAAQC,EAAMC,KAEde,EAAM,KAGNzB,EAAY,IAAIxb,MAAMke,UACtBzB,EAAiB,IAAIzc,MAAMke,UAE3Bta,EAAQ,EACRgZ,EAAY,IAAI5c,MAAMkB,QACtB6b,GAAc,EAEdoB,EAAc,IAAIne,MAAMoe,QACxBC,EAAY,IAAIre,MAAMoe,QACtBE,EAAc,IAAIte,MAAMoe,QAExBG,EAAW,IAAIve,MAAMoe,QACrBI,EAAS,IAAIxe,MAAMoe,QACnBK,EAAW,IAAIze,MAAMoe,QAErBM,EAAa,IAAI1e,MAAMoe,QACvBO,EAAW,IAAI3e,MAAMoe,QACrBQ,EAAa,IAAI5e,MAAMoe,QAM3B,SAASS,IACP,OAAOxc,KAAKmL,IAAI,IAAM+J,EAAMyC,WAG9B,SAASwC,EAAWsC,GAClBrC,EAAed,OAASmD,EAG1B,SAASC,EAASD,GAChBrC,EAAehB,KAAOqD,EAGxB,IACMxR,EADF0R,GACE1R,EAAI,IAAItN,MAAMkB,QAEX,SAAiB+d,EAAUC,GAChC5R,EAAE6R,oBAAoBD,EAAc,GACpC5R,EAAErC,gBAAgBgU,GAElBrC,EAAUxR,IAAIkC,KAId8R,EAAS,WACX,IAAI9R,EAAI,IAAItN,MAAMkB,QAElB,OAAO,SAAe+d,EAAUC,IACG,IAA7B3H,EAAM4C,mBACR7M,EAAE6R,oBAAoBD,EAAc,IAEpC5R,EAAE6R,oBAAoBD,EAAc,GACpC5R,EAAE+R,aAAa9H,EAAMD,OAAO8E,GAAI9O,IAGlCA,EAAErC,eAAegU,GAEjBrC,EAAUxR,IAAIkC,IAbL,GAkBTgS,EAAO,WACT,IAAIrG,EAAS,IAAIjZ,MAAMkB,QAEvB,OAAO,SAAaqe,EAAQC,GAC1B,IAAIC,EACFlI,EAAMxF,aAAenK,SACrB2P,EAAMxF,WAAW2N,KACjBnI,EAAMxF,WAER,GAAIwF,EAAMD,OAAOqI,oBAAqB,CAEpC,IAAI3c,EAAWuU,EAAMD,OAAOtU,SAC5BiW,EAAOhW,KAAKD,GAAUqZ,IAAI9E,EAAM+B,QAChC,IAAIsG,EAAiB3G,EAAOjL,SAG5B4R,GAAkBvd,KAAKG,IAAI+U,EAAMD,OAAO5U,IAAM,EAAIL,KAAK4H,GAAK,KAG5D+U,EACE,EAAIO,EAASK,EAAiBH,EAAQI,aACtCtI,EAAMD,OAAOwI,QAEfV,EACE,EAAII,EAASI,EAAiBH,EAAQI,aACtCtI,EAAMD,OAAOwI,aAENvI,EAAMD,OAAOyI,sBAEtBf,EACEO,GACChI,EAAMD,OAAO0I,MAAQzI,EAAMD,OAAO2I,MACnC1I,EAAMD,OAAOgE,KACbmE,EAAQS,YACR3I,EAAMD,OAAOwI,QAEfV,EACEI,GACCjI,EAAMD,OAAO6I,IAAM5I,EAAMD,OAAO8I,QACjC7I,EAAMD,OAAOgE,KACbmE,EAAQI,aACRtI,EAAMD,OAAOwI,UAIfO,QAAQ3c,KACN,gFAEF6T,EAAMb,WAAY,IAhDb,GAqDX,SAAS4J,EAAQC,GACXhJ,EAAMD,OAAOqI,oBACf/b,GAAS2c,EACAhJ,EAAMD,OAAOyI,sBACtBxI,EAAMD,OAAOgE,KAAOjZ,KAAKsN,IACvB4H,EAAMiC,QACNnX,KAAKuN,IAAI2H,EAAMkC,QAASlC,EAAMD,OAAOgE,KAAOiF,IAE9ChJ,EAAMD,OAAO5N,yBACbqT,GAAc,IAEdsD,QAAQ3c,KACN,uFAEF6T,EAAMd,YAAa,GAIvB,SAAS+J,EAASD,GACZhJ,EAAMD,OAAOqI,oBACf/b,GAAS2c,EACAhJ,EAAMD,OAAOyI,sBACtBxI,EAAMD,OAAOgE,KAAOjZ,KAAKsN,IACvB4H,EAAMiC,QACNnX,KAAKuN,IAAI2H,EAAMkC,QAASlC,EAAMD,OAAOgE,KAAOiF,IAE9ChJ,EAAMD,OAAO5N,yBACbqT,GAAc,IAEdsD,QAAQ3c,KACN,uFAEF6T,EAAMd,YAAa,GAsNvB,SAAS2G,EAAYlF,GACnB,IAAsB,IAAlBX,EAAME,QAAV,CAIA,OAFAS,EAAMuI,iBAEEvI,EAAMwI,QACZ,KAAKnJ,EAAMsD,aAAaC,MACtB,IAA2B,IAAvBvD,EAAMpG,aAAwB,QArNxC,SAA+B+G,GAG7BiG,EAAYvS,IAAIsM,EAAMyI,QAASzI,EAAM0I,SAoNjCC,CAAsB3I,GAEtB8D,EAAQC,EAAM6B,OAEd,MAEF,KAAKvG,EAAMsD,aAAaG,KACtB,IAAyB,IAArBzD,EAAMd,WAAsB,QAxNtC,SAA8ByB,GAG5BwG,EAAW9S,IAAIsM,EAAMyI,QAASzI,EAAM0I,SAuNhCE,CAAqB5I,GAErB8D,EAAQC,EAAM8B,MAEd,MAEF,KAAKxG,EAAMsD,aAAaK,IACtB,IAAwB,IAApB3D,EAAMb,UAAqB,QA3NrC,SAA4BwB,GAG1BqG,EAAS3S,IAAIsM,EAAMyI,QAASzI,EAAM0I,SA0N9BG,CAAmB7I,GAEnB8D,EAAQC,EAAMf,IAKdc,IAAUC,EAAMC,OAClBtU,SAASmB,iBAAiB,YAAa0U,GAAa,GACpD7V,SAASmB,iBAAiB,UAAW2U,GAAW,GAEhDnG,EAAMuE,cAAc8B,KAIxB,SAASH,EAAYvF,GACnB,IAAsB,IAAlBX,EAAME,QAIV,OAFAS,EAAMuI,iBAEEzE,GACN,KAAKC,EAAM6B,OACT,IAA2B,IAAvBvG,EAAMpG,aAAwB,QA7OxC,SAA+B+G,GAG7BmG,EAAUzS,IAAIsM,EAAMyI,QAASzI,EAAM0I,SAEnCtC,EACG0C,WAAW3C,EAAWF,GACtBlT,eAAesM,EAAM0C,aAExB,IAAIwF,EACFlI,EAAMxF,aAAenK,SAAW2P,EAAMxF,WAAW2N,KAAOnI,EAAMxF,WAGhEyK,EAAW,EAAIna,KAAK4H,GAAKqU,EAAY1Y,EAAI6Z,EAAQS,aAGjDnB,EAAS,EAAI1c,KAAK4H,GAAKqU,EAAYzY,EAAI4Z,EAAQI,cAE/C1B,EAAYlb,KAAKob,GAEjB9G,EAAMhO,SA2NF0X,CAAsB/I,GAEtB,MAEF,KAAK+D,EAAM8B,MACT,IAAyB,IAArBxG,EAAMd,WAAsB,QA7NtC,SAA8ByB,GAG5ByG,EAAS/S,IAAIsM,EAAMyI,QAASzI,EAAM0I,SAElChC,EAAWoC,WAAWrC,EAAUD,GAE5BE,EAAW/Y,EAAI,EACjBya,EAAQzB,KACCD,EAAW/Y,EAAI,GACxB2a,EAAS3B,KAGXH,EAAWzb,KAAK0b,GAEhBpH,EAAMhO,SAgNF2X,CAAqBhJ,GAErB,MAEF,KAAK+D,EAAMf,IACT,IAAwB,IAApB3D,EAAMb,UAAqB,QAlNrC,SAA4BwB,GAG1BsG,EAAO5S,IAAIsM,EAAMyI,QAASzI,EAAM0I,SAEhCnC,EAASuC,WAAWxC,EAAQD,GAAUtT,eAAesM,EAAM2C,UAE3DoF,EAAIb,EAAS7Y,EAAG6Y,EAAS5Y,GAEzB0Y,EAAStb,KAAKub,GAEdjH,EAAMhO,SAyMF4X,CAAmBjJ,IAMzB,SAASwF,EAAUxF,IACK,IAAlBX,EAAME,UAIV7P,SAASC,oBAAoB,YAAa4V,GAAa,GACvD7V,SAASC,oBAAoB,UAAW6V,GAAW,GAEnDnG,EAAMuE,cAAc+B,GAEpB7B,EAAQC,EAAMC,MAGhB,SAASmB,EAAanF,IAEA,IAAlBX,EAAME,UACe,IAArBF,EAAMd,YACLuF,IAAUC,EAAMC,MAAQF,IAAUC,EAAM6B,SAI3C5F,EAAMuI,iBACNvI,EAAMkJ,kBAEN7J,EAAMuE,cAAc8B,GAhOtB,SAA0B1F,GAGpBA,EAAMsH,OAAS,EACjBgB,EAAS3B,KACA3G,EAAMsH,OAAS,GACxBc,EAAQzB,KAGVtH,EAAMhO,SAyNN8X,CAAiBnJ,GAEjBX,EAAMuE,cAAc+B,IAGtB,SAASF,EAAUzF,IAEG,IAAlBX,EAAME,UACe,IAArBF,EAAMgD,aACc,IAApBhD,EAAMb,WA/NV,SAAuBwB,GAGrB,OAAQA,EAAMoJ,SACZ,KAAK/J,EAAMiD,KAAKE,GACd4E,EAAI,EAAG/H,EAAM6C,aACb7C,EAAMhO,SACN,MAEF,KAAKgO,EAAMiD,KAAKI,OACd0E,EAAI,GAAI/H,EAAM6C,aACd7C,EAAMhO,SACN,MAEF,KAAKgO,EAAMiD,KAAKC,KACd6E,EAAI/H,EAAM6C,YAAa,GACvB7C,EAAMhO,SACN,MAEF,KAAKgO,EAAMiD,KAAKG,MACd2E,GAAK/H,EAAM6C,YAAa,GACxB7C,EAAMhO,UA8MVgY,CAAcrJ,GAGhB,SAASoF,EAAapF,GACpB,IAAsB,IAAlBX,EAAME,QAAV,CAIA,OAFAS,EAAMuI,iBAEEvI,EAAMsJ,QAAQxT,QACpB,KAAK,EACH,IAA2B,IAAvBuJ,EAAMpG,aAAwB,QAnNxC,SAAgC+G,GAG9BiG,EAAYvS,IAAIsM,EAAMsJ,QAAQ,GAAGC,MAAOvJ,EAAMsJ,QAAQ,GAAGE,OAkNrDC,CAAuBzJ,GAEvB8D,EAAQC,EAAM+B,aAEd,MAEF,KAAK,EACH,IAAyB,IAArBzG,EAAMd,aAA4C,IAApBc,EAAMb,UAAqB,QAtNnE,SAAkCwB,GAGhC,GAAIX,EAAMd,WAAY,CACpB,IAAImL,EAAK1J,EAAMsJ,QAAQ,GAAGC,MAAQvJ,EAAMsJ,QAAQ,GAAGC,MAC/CI,EAAK3J,EAAMsJ,QAAQ,GAAGE,MAAQxJ,EAAMsJ,QAAQ,GAAGE,MAE/CzC,EAAW5c,KAAKkW,KAAKqJ,EAAKA,EAAKC,EAAKA,GAExCnD,EAAW9S,IAAI,EAAGqT,GAGpB,GAAI1H,EAAMb,UAAW,CACnB,IAAI9Q,EAAI,IAAOsS,EAAMsJ,QAAQ,GAAGC,MAAQvJ,EAAMsJ,QAAQ,GAAGC,OACrD5b,EAAI,IAAOqS,EAAMsJ,QAAQ,GAAGE,MAAQxJ,EAAMsJ,QAAQ,GAAGE,OAEzDnD,EAAS3S,IAAIhG,EAAGC,IAwMdic,CAAyB5J,GAEzB8D,EAAQC,EAAMgC,gBAEd,MAEF,QACEjC,EAAQC,EAAMC,KAGdF,IAAUC,EAAMC,MAClB3E,EAAMuE,cAAc8B,IAIxB,SAASJ,EAAYtF,GACnB,IAAsB,IAAlBX,EAAME,QAKV,OAHAS,EAAMuI,iBACNvI,EAAMkJ,kBAEElJ,EAAMsJ,QAAQxT,QACpB,KAAK,EACH,IAA2B,IAAvBuJ,EAAMpG,aAAwB,OAClC,GAAI6K,IAAUC,EAAM+B,aAAc,QA5NxC,SAA+B9F,GAG7BmG,EAAUzS,IAAIsM,EAAMsJ,QAAQ,GAAGC,MAAOvJ,EAAMsJ,QAAQ,GAAGE,OAEvDpD,EACG0C,WAAW3C,EAAWF,GACtBlT,eAAesM,EAAM0C,aAExB,IAAIwF,EACFlI,EAAMxF,aAAenK,SAAW2P,EAAMxF,WAAW2N,KAAOnI,EAAMxF,WAGhEyK,EAAW,EAAIna,KAAK4H,GAAKqU,EAAY1Y,EAAI6Z,EAAQS,aAGjDnB,EAAS,EAAI1c,KAAK4H,GAAKqU,EAAYzY,EAAI4Z,EAAQI,cAE/C1B,EAAYlb,KAAKob,GAEjB9G,EAAMhO,SA0MFwY,CAAsB7J,GAEtB,MAEF,KAAK,EACH,IAAyB,IAArBX,EAAMd,aAA4C,IAApBc,EAAMb,UAAqB,OAC7D,GAAIsF,IAAUC,EAAMgC,gBAAiB,QA7M3C,SAAiC/F,GAG/B,GAAIX,EAAMd,WAAY,CACpB,IAAImL,EAAK1J,EAAMsJ,QAAQ,GAAGC,MAAQvJ,EAAMsJ,QAAQ,GAAGC,MAC/CI,EAAK3J,EAAMsJ,QAAQ,GAAGE,MAAQxJ,EAAMsJ,QAAQ,GAAGE,MAE/CzC,EAAW5c,KAAKkW,KAAKqJ,EAAKA,EAAKC,EAAKA,GAExClD,EAAS/S,IAAI,EAAGqT,GAEhBL,EAAWhT,IAAI,EAAGvJ,KAAKmL,IAAImR,EAAS9Y,EAAI6Y,EAAW7Y,EAAG0R,EAAMyC,YAE5DsG,EAAQ1B,EAAW/Y,GAEnB6Y,EAAWzb,KAAK0b,GAGlB,GAAIpH,EAAMb,UAAW,CACnB,IAAI9Q,EAAI,IAAOsS,EAAMsJ,QAAQ,GAAGC,MAAQvJ,EAAMsJ,QAAQ,GAAGC,OACrD5b,EAAI,IAAOqS,EAAMsJ,QAAQ,GAAGE,MAAQxJ,EAAMsJ,QAAQ,GAAGE,OAEzDlD,EAAO5S,IAAIhG,EAAGC,GAEd4Y,EAASuC,WAAWxC,EAAQD,GAAUtT,eAAesM,EAAM2C,UAE3DoF,EAAIb,EAAS7Y,EAAG6Y,EAAS5Y,GAEzB0Y,EAAStb,KAAKub,GAGhBjH,EAAMhO,SAgLFyY,CAAwB9J,GAExB,MAEF,QACE8D,EAAQC,EAAMC,MAIpB,SAASqB,EAAWrF,IACI,IAAlBX,EAAME,UAIVF,EAAMuE,cAAc+B,GAEpB7B,EAAQC,EAAMC,MAGhB,SAASiB,EAAcjF,IACC,IAAlBX,EAAME,SAEVS,EAAMuI,iBAKRlJ,EAAMxF,WAAWhJ,iBAAiB,cAAeoU,GAAe,GAEhE5F,EAAMxF,WAAWhJ,iBAAiB,YAAaqU,GAAa,GAC5D7F,EAAMxF,WAAWhJ,iBAAiB,QAASsU,GACzC4E,SAAS,IAGX1K,EAAMxF,WAAWhJ,iBAAiB,aAAcuU,GAC9C2E,SAAS,IAEX1K,EAAMxF,WAAWhJ,iBAAiB,WAAYwU,GAAY,GAC1DhG,EAAMxF,WAAWhJ,iBAAiB,YAAayU,GAC7CyE,SAAS,IAGXjZ,OAAOD,iBAAiB,UAAW4U,GAAW,GAI9Ctd,KAAKkJ,UAGPvJ,MAAMsW,cAAc4L,UAAYC,IAAcniB,MAAMoiB,gBAAgBF,WACpEliB,MAAMsW,cAAc4L,UAAUG,YAAcriB,MAAMsW,cAElDgM,IAAwBtiB,MAAMsW,cAAc4L,WAC1CK,QACEC,IAAK,WAEH,OADAnC,QAAQ3c,KAAK,4DACNrD,KAAKiZ,SAMhBmJ,QACED,IAAK,WAIH,OAHAnC,QAAQ3c,KACN,+EAEMrD,KAAKoW,YAGf7K,IAAK,SAAU8W,GACbrC,QAAQ3c,KACN,8EAEFrD,KAAKoW,YAAciM,IAIvBC,UACEH,IAAK,WAIH,OAHAnC,QAAQ3c,KACN,mFAEMrD,KAAK8Q,cAGfvF,IAAK,SAAU8W,GACbrC,QAAQ3c,KACN,kFAEFrD,KAAK8Q,cAAgBuR,IAIzBE,OACEJ,IAAK,WAIH,OAHAnC,QAAQ3c,KACN,6EAEMrD,KAAKqW,WAGf9K,IAAK,SAAU8W,GACbrC,QAAQ3c,KACN,4EAEFrD,KAAKqW,WAAagM,IAItBG,QACEL,IAAK,WAIH,OAHAnC,QAAQ3c,KACN,+EAEMrD,KAAKka,YAGf3O,IAAK,SAAU8W,GACbrC,QAAQ3c,KACN,8EAEFrD,KAAKka,YAAcmI,IAIvBI,cACEN,IAAK,WAIH,OAHAnC,QAAQ3c,KACN,wFAEMrD,KAAKyZ,eAGflO,IAAK,SAAU8W,GACbrC,QAAQ3c,KACN,uFAEFrD,KAAKyZ,eAAiB4I,IAI1BK,sBACEP,IAAK,WAIH,OAHAnC,QAAQ3c,KACN,4FAEKrD,KAAK0Z,eAGdnO,IAAK,SAAU8W,GACbrC,QAAQ3c,KACN,4FAEFrD,KAAK0Z,cAAgB2I","file":"static/js/app.2358b9a3e4e53ac2c493.js","sourcesContent":["/**\n * @author alteredq / http://alteredqualia.com/\n * @authod mrdoob / http://mrdoob.com/\n * @authod arodic / http://aleksandarrodic.com/\n * @authod fonserbc / http://fonserbc.github.io/\n *\n * Off-axis stereoscopic effect based on http://paulbourke.net/stereographics/stereorender/\n */\n\nTHREE.StereoEffect = function (renderer) {\n\n  // API\n\n  this.separation = 3;\n\n  /*\n   * Distance to the non-parallax or projection plane\n   */\n  this.focalLength = 15;\n\n  // internals\n\n  var _width, _height;\n\n  var _position = new THREE.Vector3();\n  var _quaternion = new THREE.Quaternion();\n  var _scale = new THREE.Vector3();\n\n  var _cameraL = new THREE.PerspectiveCamera();\n  var _cameraR = new THREE.PerspectiveCamera();\n\n  var _fov;\n  var _outer, _inner, _top, _bottom;\n  var _ndfl, _halfFocalWidth, _halfFocalHeight;\n  var _innerFactor, _outerFactor;\n\n  // initialization\n\n  renderer.autoClear = false;\n\n  this.setSize = function (width, height) {\n\n    _width = width / 2;\n    _height = height;\n\n    renderer.setSize(width, height);\n\n  };\n\n  this.render = function (scene, camera) {\n\n    scene.updateMatrixWorld();\n\n    if (camera.parent === undefined) camera.updateMatrixWorld();\n\n    camera.matrixWorld.decompose(_position, _quaternion, _scale);\n\n    // Stereo frustum calculation\n\n    // Effective fov of the camera\n    _fov = THREE.Math.radToDeg(2 * Math.atan(Math.tan(THREE.Math.degToRad(camera.fov) * 0.5)));\n\n    _ndfl = camera.near / this.focalLength;\n    _halfFocalHeight = Math.tan(THREE.Math.degToRad(_fov) * 0.5) * this.focalLength;\n    _halfFocalWidth = _halfFocalHeight * 0.5 * camera.aspect;\n\n    _top = _halfFocalHeight * _ndfl;\n    _bottom = -_top;\n    _innerFactor = (_halfFocalWidth + this.separation / 2.0) / (_halfFocalWidth * 2.0);\n    _outerFactor = 1.0 - _innerFactor;\n\n    _outer = _halfFocalWidth * 2.0 * _ndfl * _outerFactor;\n    _inner = _halfFocalWidth * 2.0 * _ndfl * _innerFactor;\n\n    // left\n    _cameraL.projectionMatrix.makePerspective(-_outer,\n      _inner,\n      _top,\n      _bottom,\n      camera.near,\n      camera.far\n    );\n\n    _cameraL.position.copy(_position);\n    _cameraL.quaternion.copy(_quaternion);\n    _cameraL.translateX(-this.separation / 2.0);\n\n    // right\n\n    _cameraR.projectionMatrix.makePerspective(-_inner,\n      _outer,\n      _top,\n      _bottom,\n      camera.near,\n      camera.far\n    );\n\n    _cameraR.position.copy(_position);\n    _cameraR.quaternion.copy(_quaternion);\n    _cameraR.translateX(this.separation / 2.0);\n\n    //\n\n    renderer.setViewport(0, 0, _width * 2, _height);\n    renderer.clear();\n\n    renderer.setViewport(0, 0, _width, _height);\n    renderer.render(scene, _cameraL);\n\n    renderer.setViewport(_width, 0, _width, _height);\n    renderer.render(scene, _cameraR);\n\n  };\n\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/StereoEffect.js","<template>\n  <svg version=\"1.1\"\n    :class=\"klass\"\n    :role=\"label ? 'img' : 'presentation'\"\n    :aria-label=\"label\"\n    :x=\"x\"\n    :y=\"y\"\n    :width=\"width\"\n    :height=\"height\"\n    :viewBox=\"box\"\n    :style=\"style\">\n    <slot>\n      <template v-if=\"icon && icon.paths\">\n        <path v-for=\"(path, i) in icon.paths\" :key=\"`path-${i}`\" v-bind=\"path\"/>\n      </template>\n      <template v-if=\"icon && icon.polygons\">\n        <polygon v-for=\"(polygon, i) in icon.polygons\" :key=\"`polygon-${i}`\" v-bind=\"polygon\"/>\n      </template>\n      <template v-if=\"icon && icon.raw\"><g v-html=\"raw\"></g></template>\n    </slot>\n  </svg>\n</template>\n\n<style>\n.fa-icon {\n  display: inline-block;\n  fill: currentColor;\n}\n\n.fa-flip-horizontal {\n  transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  transform: scale(1, -1);\n}\n\n.fa-spin {\n  animation: fa-spin 1s 0s infinite linear;\n}\n\n.fa-inverse {\n  color: #fff;\n}\n\n.fa-pulse {\n  animation: fa-spin 1s infinite steps(8);\n}\n\n@keyframes fa-spin {\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}\n</style>\n\n<script>\nlet icons = {}\n\nexport default {\n  name: 'icon',\n  props: {\n    name: {\n      type: String,\n      validator (val) {\n        if (val) {\n          if (!(val in icons)) {\n            console.warn(`Invalid prop: prop \"name\" is referring to an unregistered icon \"${val}\".` +\n              `\\nPlease make sure you have imported this icon before using it.`)\n            return false\n          }\n          return true\n        }\n        console.warn(`Invalid prop: prop \"name\" is required.`)\n        return false\n      }\n    },\n    scale: [Number, String],\n    spin: Boolean,\n    inverse: Boolean,\n    pulse: Boolean,\n    flip: {\n      validator (val) {\n        return val === 'horizontal' || val === 'vertical'\n      }\n    },\n    label: String\n  },\n  data () {\n    return {\n      x: false,\n      y: false,\n      childrenWidth: 0,\n      childrenHeight: 0,\n      outerScale: 1\n    }\n  },\n  computed: {\n    normalizedScale () {\n      let scale = this.scale\n      scale = typeof scale === 'undefined' ? 1 : Number(scale)\n      if (isNaN(scale) || scale <= 0) {\n        console.warn(`Invalid prop: prop \"scale\" should be a number over 0.`, this)\n        return this.outerScale\n      }\n      return scale * this.outerScale\n    },\n    klass () {\n      return {\n        'fa-icon': true,\n        'fa-spin': this.spin,\n        'fa-flip-horizontal': this.flip === 'horizontal',\n        'fa-flip-vertical': this.flip === 'vertical',\n        'fa-inverse': this.inverse,\n        'fa-pulse': this.pulse\n      }\n    },\n    icon () {\n      if (this.name) {\n        return icons[this.name]\n      }\n      return null\n    },\n    box () {\n      if (this.icon) {\n        return `0 0 ${this.icon.width} ${this.icon.height}`\n      }\n      return `0 0 ${this.width} ${this.height}`\n    },\n    ratio () {\n      if (!this.icon) {\n        return 1\n      }\n      let { width, height } = this.icon\n      return Math.max(width, height) / 16\n    },\n    width () {\n      return this.childrenWidth || this.icon && this.icon.width / this.ratio * this.normalizedScale || 0\n    },\n    height () {\n      return this.childrenHeight || this.icon && this.icon.height / this.ratio * this.normalizedScale || 0\n    },\n    style () {\n      if (this.normalizedScale === 1) {\n        return false\n      }\n      return {\n        fontSize: this.normalizedScale + 'em'\n      }\n    },\n    raw () {\n      // generate unique id for each icon's SVG element with ID\n      if (!this.icon || !this.icon.raw) {\n        return null\n      }\n      let raw = this.icon.raw\n      let ids = {}\n      raw = raw.replace(/\\s(?:xml:)?id=([\"']?)([^\"')\\s]+)\\1/g, (match, quote, id) => {\n        let uniqueId = getId()\n        ids[id] = uniqueId\n        return ` id=\"${uniqueId}\"`\n      })\n      raw = raw.replace(/#(?:([^'\")\\s]+)|xpointer\\(id\\((['\"]?)([^')]+)\\2\\)\\))/g, (match, rawId, _, pointerId) => {\n        let id = rawId || pointerId\n        if (!id || !ids[id]) {\n          return match\n        }\n\n        return `#${ids[id]}`\n      })\n\n      return raw\n    }\n  },\n  mounted () {\n    if (this.icon) {\n      return\n    }\n    this.$children.forEach(child => {\n      child.outerScale = this.normalizedScale\n    })\n    let width = 0\n    let height = 0\n    this.$children.forEach(child => {\n      width = Math.max(width, child.width)\n      height = Math.max(height, child.height)\n    })\n    this.childrenWidth = width\n    this.childrenHeight = height\n    this.$children.forEach(child => {\n      child.x = (width - child.width) / 2\n      child.y = (height - child.height) / 2\n    })\n  },\n  register (data) {\n    for (let name in data) {\n      let icon = data[name]\n\n      if (!icon.paths) {\n        icon.paths = []\n      }\n      if (icon.d) {\n        icon.paths.push({ d: icon.d })\n      }\n\n      if (!icon.polygons) {\n        icon.polygons = []\n      }\n      if (icon.points) {\n        icon.polygons.push({ points: icon.points })\n      }\n\n      icons[name] = icon\n    }\n  },\n  icons\n}\n\nlet cursor = 0xd4937\nfunction getId () {\n  return `fa-${(cursor++).toString(16)}`\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// node_modules/vue-awesome/components/Icon.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('svg',{class:_vm.klass,style:(_vm.style),attrs:{\"version\":\"1.1\",\"role\":_vm.label ? 'img' : 'presentation',\"aria-label\":_vm.label,\"x\":_vm.x,\"y\":_vm.y,\"width\":_vm.width,\"height\":_vm.height,\"viewBox\":_vm.box}},[_vm._t(\"default\",[(_vm.icon && _vm.icon.paths)?_vm._l((_vm.icon.paths),function(path,i){return _c('path',_vm._b({key:(\"path-\" + i)},'path',path,false))}):_vm._e(),_vm._v(\" \"),(_vm.icon && _vm.icon.polygons)?_vm._l((_vm.icon.polygons),function(polygon,i){return _c('polygon',_vm._b({key:(\"polygon-\" + i)},'polygon',polygon,false))}):_vm._e(),_vm._v(\" \"),(_vm.icon && _vm.icon.raw)?[_c('g',{domProps:{\"innerHTML\":_vm._s(_vm.raw)}})]:_vm._e()])],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4061c7f6\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./node_modules/vue-awesome/components/Icon.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4061c7f6\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../vue-loader/lib/selector?type=styles&index=0!./Icon.vue\")\n}\nvar normalizeComponent = require(\"!../../vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../vue-loader/lib/selector?type=script&index=0!./Icon.vue\"\nimport __vue_script__ from \"!!babel-loader!../../vue-loader/lib/selector?type=script&index=0!./Icon.vue\"\n/* template */\nimport __vue_template__ from \"!!../../vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4061c7f6\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../vue-loader/lib/selector?type=template&index=0!./Icon.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-awesome/components/Icon.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3d80656c\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3d80656c\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3d80656c\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","<template>\n  <div id=\"app\">\n    <router-view/>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"App\"\n};\n</script>\n\n<style>\nhtml,\nbody {\n  width: 100%;\n  height: 100%;\n  margin: 0px;\n  overflow: hidden;\n}\n\n#app {\n  font-family: \"Avenir\", Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n}\n\n.white {\n  color: #fff;\n}\n.black {\n  color: #4e4e4e;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","const NoSleep = require(\"nosleep.js\");\nvar nosleep = new NoSleep();\nconst mobile = require(\"is-mobile\");\n\nvar UtilService = {\n  methods: {\n    enableWakeLock() {\n      nosleep.enable();\n      document.removeEventListener(\"click\", this.enableWakeLock, false);\n    },\n    isMobile() {\n      return mobile();\n    },\n    setVR() {\n      this.view.isVR = !this.view.isVR;\n      this.onViewResize();\n    },\n    setFullScreen() {\n      if (this.view.isFullScreen) {\n        if (document.exitFullscreen) {\n          document.exitFullscreen();\n          this.view.isFullScreen = false;\n        } else if (document.mozCancelFullScreen) {\n          document.mozCancelFullScreen();\n          this.view.isFullScreen = false;\n        } else if (document.webkitExitFullscreen) {\n          document.webkitExitFullscreen();\n          this.view.isFullScreen = false;\n        }\n      } else {\n        if (document.documentElement.requestFullscreen) {\n          document.documentElement.requestFullscreen();\n          this.view.isFullScreen = true;\n        } else if (document.documentElement.mozRequestFullScreen) {\n          document.documentElement.mozRequestFullScreen();\n          this.view.isFullScreen = true;\n        } else if (document.documentElement.webkitRequestFullscreen) {\n          document.documentElement.webkitRequestFullscreen();\n          this.view.isFullScreen = true;\n        } else if (document.documentElement.msRequestFullscreen) {\n          document.documentElement.msRequestFullscreen();\n          this.view.isFullScreen = true;\n        }\n      }\n    }\n  }\n};\nexport default UtilService;\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/util.js","var EventService = {\n  methods: {\n    initEvents() {\n      document.addEventListener(\"click\", this.enableWakeLock, false);\n      window.addEventListener(\"resize\", this.onViewResize, false);\n      window.addEventListener(\n        \"deviceorientation\",\n        this.onDeviceOrientation,\n        true\n      );\n    },\n    onDeviceOrientation(e) {\n      if (!e.alpha) {\n        return;\n      }\n\n      this.view.controls = new THREE.DeviceOrientationControls(\n        this.view.camera,\n        true\n      );\n      this.view.controls.connect();\n      this.view.controls.update();\n\n      window.removeEventListener(\n        \"deviceorientation\",\n        this.onDeviceOrientation,\n        true\n      );\n    },\n    onViewResize() {\n      this.view.camera.aspect = window.innerWidth / window.innerHeight;\n      this.view.camera.updateProjectionMatrix();\n\n      if (this.view.isMobile && this.view.isVR) {\n        this.view.effect.setSize(window.innerWidth, window.innerHeight);\n      }\n      this.view.renderer.setSize(window.innerWidth, window.innerHeight);\n    }\n  }\n};\nexport default EventService;\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/event.js","const newArray = require(\"new-array\");\nconst randomFloat = require(\"random-float\");\nconst randomInt = require(\"random-int\");\nconst randomVector = require(\"gl-vec3/random\");\nconst randomRadian = () => randomFloat(-Math.PI, Math.PI);\nconst randomRotation = () => newArray(3).map(randomRadian);\nconst simplex = new(require(\"simplex-noise\"))();\n\nvar CreatorService = {\n  data() {\n    return {\n      geometryMAP: {\n        1: \"IcosahedronGeometry\",\n        2: \"OctahedronGeometry\"\n      }\n    };\n  },\n  methods: {\n    addGrid() {\n      // create grid object\n      this.view.components.grid = new THREE.Object3D();\n\n      // create single grid\n      var grid1 = new THREE.GridHelper(10, 100, this.view.colors.directional, this.view.colors.directional);\n      grid1.position.y = -11\n      grid1.position.z = -1000\n      grid1.scale.multiplyScalar(100)\n\n      var grid2 = new THREE.GridHelper(10, 100, this.view.colors.directional, this.view.colors.directional);\n      grid2.position.y = -11\n      grid2.position.z = 0\n      grid2.scale.multiplyScalar(100)\n\n      var grid3 = new THREE.GridHelper(10, 100, this.view.colors.directional, this.view.colors.directional);\n      grid3.position.y = -11\n      grid3.position.z = 1000\n      grid3.scale.multiplyScalar(100)\n\n      // add grids to main grid\n      this.view.components.grid.add(grid1)\n      this.view.components.grid.add(grid2)\n      this.view.components.grid.add(grid3)\n\n      // add main grid to scene\n      this.view.scene.add(this.view.components.grid);\n    },\n    addLights(ambientColor, directionalColor) {\n      // add ambient light\n      this.view.components.ambientLight = new THREE.AmbientLight(ambientColor);\n      this.view.scene.add(this.view.components.ambientLight);\n\n      // add first direction light\n      this.view.components.lights[0] = new THREE.DirectionalLight(\n        directionalColor,\n        1\n      );\n      this.view.components.lights[0].position.set(0, 1, 1);\n      this.view.scene.add(this.view.components.lights[0]);\n    },\n    addRocks(number, color) {\n      // create rocks object\n      this.view.components.rocks = new THREE.Object3D();\n\n      // iterate to number\n      for (var i = 0; i < number; i++) {\n        // create single rock geometry\n        var height = randomInt(2,10)\n        var geometry = new THREE.ConeGeometry(2, height, 6);\n\n        // create single rock material\n        var material = new THREE.MeshPhongMaterial({\n          color: color,\n          flatShading: true,\n        });\n\n        // create mesh\n        var mesh = new THREE.Mesh(geometry, material.clone());\n        mesh.position.fromArray([\n          randomFloat(20, this.music.audio.fftSize / 2),\n          -(10-(height/2)),\n          randomFloat(this.music.audio.fftSize / 2) - this.music.audio.fftSize / 4\n        ]);\n        mesh.rotation.y = randomInt(0, 180)\n\n        // create specular mesh\n        var meshClone = mesh.clone()\n        meshClone.position.x *= -1\n\n        // add particle to main mesh\n        this.view.components.rocks.add(mesh);\n        this.view.components.rocks.add(meshClone);\n      }\n\n      // add rocks to scene\n      this.view.scene.add(this.view.components.rocks)\n    },\n    addParticles(number, color) {\n      // create particle object\n      this.view.components.particles = new THREE.Object3D();\n\n      // create single particle geometry\n      function generateGeometry() {\n        const geometry = new THREE.TetrahedronGeometry(1, randomInt(1, 2));\n        geometry.vertices.forEach(v => {\n          let steps = 3;\n          let s = Math.pow(2, steps);\n          let a = 0.75;\n          for (let i = 0; i < steps; i++) {\n            v.x += a * simplex.noise3D(v.x * s * 0, v.y * s, v.z * s);\n            v.y += a * simplex.noise3D(v.x * s, v.y * s * 0, v.z * s);\n            v.z += a * simplex.noise3D(v.x * s, v.y * s, v.z * s * 0);\n            s *= 0.25;\n            a *= 1 / steps * i;\n          }\n        });\n        geometry.computeFaceNormals();\n        geometry.verticesNeedsUpdate = true;\n        return geometry;\n      }\n\n      // create geometries for particles\n      var geometries = newArray(10).map(generateGeometry);\n\n      // create single particle material\n      var material = new THREE.MeshPhongMaterial({\n        color: color,\n        wireframe: true,\n        side: THREE.DoubleSide\n      });\n\n      // create particles\n      for (var i = 0; i < number; i++) {\n        var geometry = geometries[randomInt(geometries.length - 1)];\n        var mesh = new THREE.Mesh(geometry, material.clone());\n        mesh.material.opacity = randomFloat(0.05, 0.1);\n        mesh.scale.multiplyScalar(randomFloat(0.1, 1.5));\n        mesh.rotation.fromArray(randomRotation());\n        mesh.direction = new THREE.Vector3().fromArray(randomVector([]));\n        mesh.position.fromArray([\n          randomFloat(this.music.audio.fftSize / 4) - this.music.audio.fftSize / 8,\n          randomFloat(this.music.audio.fftSize / 8),\n          randomFloat(this.music.audio.fftSize / 4) - this.music.audio.fftSize / 8\n        ]);\n\n        // add particle to scene\n        this.view.components.particles.add(mesh);\n      }\n\n      // add particles to scene\n      this.view.components.particles.visible = false\n      this.view.scene.add(this.view.components.particles);\n    },\n    addBulb(internalColor, externalColor, type, faces) {\n      // create bulb object\n      this.view.components.bulb = new THREE.Object3D();\n\n      // create bulb geometry\n      var geometry = new THREE[this.geometryMAP[type]](15, faces);\n\n      // create bulb material\n      var materialSkeleton = new THREE.MeshPhongMaterial({\n        color: externalColor,\n        wireframe: true\n      });\n      var materialFill = new THREE.MeshPhongMaterial({\n        color: internalColor,\n        flatShading: true\n      });\n\n      // create bulb mesh skeleton\n      var meshSkeleton = new THREE.Mesh(geometry, materialSkeleton.clone());\n      meshSkeleton.position.y = 0;\n      meshSkeleton.position.z = 0;\n      meshSkeleton.scale.x = meshSkeleton.scale.y = meshSkeleton.scale.z = 0.11;\n\n      // create bulb mesh internal\n      var meshFill = new THREE.Mesh(geometry, materialFill.clone());\n      meshFill.position.y = 0;\n      meshFill.position.z = 0;\n      meshFill.scale.x = meshFill.scale.y = meshFill.scale.z = 0.1;\n\n      // add meshes to parent\n      this.view.components.bulb.add(meshSkeleton);\n      this.view.components.bulb.add(meshFill);\n\n      // add bulb to scene\n      this.view.scene.add(this.view.components.bulb);\n    },\n    addSongDetail(title, artist, color) {\n      // create song detail object\n      this.view.components.songDetail = new THREE.Object3D();\n\n      // create text material\n      var material = new THREE.MeshPhongMaterial({\n        color: color\n      });\n\n      // create geometry\n      var geometryTitle = new THREE.TextGeometry(title, {\n        font: this.view.font,\n        size: 0.8,\n        height: 0.1\n      });\n      geometryTitle.computeBoundingBox();\n\n      var geometryArtist = new THREE.TextGeometry(artist, {\n        font: this.view.font,\n        size: 0.5,\n        height: 0.1\n      });\n      geometryArtist.computeBoundingBox();\n\n      // create mesh title\n      var meshTitle = new THREE.Mesh(geometryTitle, material);\n      var centerOffsetTitle = -0.5 *\n        (geometryTitle.boundingBox.max.x - geometryTitle.boundingBox.min.x);\n      meshTitle.position.fromArray([centerOffsetTitle, -3, 0]);\n\n      // create mesh artist\n      var meshArtist = new THREE.Mesh(geometryArtist, material);\n      var centerOffsetArtist = -0.5 *\n        (geometryArtist.boundingBox.max.x - geometryArtist.boundingBox.min.x);\n      meshArtist.position.fromArray([centerOffsetArtist, -4, 0]);\n\n      // add meshes to parent\n      this.view.components.songDetail.add(meshTitle);\n      this.view.components.songDetail.add(meshArtist);\n\n      // add to scene\n      this.view.components.songDetail.position.y = -5;\n      this.view.components.songDetail.position.z = 100;\n      this.view.scene.add(this.view.components.songDetail);\n    }\n  }\n};\nexport default CreatorService;\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/creator.js","const audioFrequencyAverage = require(\"analyser-frequency-average\");\n\nvar AnimatorService = {\n  methods: {\n    animateGrid() {\n      this.view.components.grid.children[0].position.z += 1\n      this.view.components.grid.children[1].position.z += 1\n      this.view.components.grid.children[2].position.z += 1\n\n      if(this.view.components.grid.children[0].position.z > 1000) {\n        this.view.components.grid.children[0].position.z = -1000\n      }\n      if(this.view.components.grid.children[1].position.z > 1000) {\n        this.view.components.grid.children[1].position.z = -1000\n      }\n      if(this.view.components.grid.children[2].position.z > 1000) {\n        this.view.components.grid.children[2].position.z = -1000\n      }\n    },\n    animateRocks(freqs) {\n      // animate single rock\n      for (var i = 0; i < this.view.components.rocks.children.length; i++) {\n        // get rock\n        var rock = this.view.components.rocks.children[i];\n\n        // move rock\n        rock.position.z += 1;\n\n        if (rock.position.z > this.music.audio.fftSize / 8) {\n          rock.position.z -= this.music.audio.fftSize / 2;\n        }\n\n        // animate base on frequencies\n        if (freqs[i] != 0) {\n          //rock.scale.x = freqs[i] / 50;\n          //rock.scale.y = freqs[i] / 50;\n          //rock.scale.z = freqs[i] / 50;\n        }\n      }\n    },\n    animateParticles(freqs) {\n      // make particles visible\n      this.view.components.particles.visible = true\n\n      // animate single particle\n      for (var i = 0; i < this.view.components.particles.children.length; i++) {\n        // get particle\n        var particle = this.view.components.particles.children[i];\n\n        // and move it forward dependent on the mouseY position.\n        particle.position.z += 1 * 0.5;\n        particle.rotation.z += 1 * 0.02;\n\n        if (particle.position.z > this.music.audio.fftSize / 16) {\n          particle.position.z -= this.music.audio.fftSize / 4;\n        }\n\n        // animate base on frequencies\n        if (freqs[i] != 0) {\n          particle.scale.x = freqs[i] / 75;\n          particle.scale.y = freqs[i] / 75;\n          particle.scale.z = freqs[i] / 75;\n        }\n      }\n    },\n    animateBulb(type, freqs) {\n      switch (type) {\n        case \"forward\":\n          this.view.components.bulb.children[0].rotation.x += 0.002;\n          this.view.components.bulb.children[1].rotation.x -= 0.002;\n          break;\n\n        case \"backward\":\n          this.view.components.bulb.children[0].rotation.x -= 0.002;\n          this.view.components.bulb.children[1].rotation.x += 0.002;\n          break;\n\n        case \"pulse\":\n          // skeleton bulb\n          if (!freqs) {\n            if (\n              this.view.components.bulb.children[0].scale.x < 0.16 &&\n              this.view.animations.pulseUp\n            ) {\n              this.view.components.bulb.children[0].scale.addScalar(0.0005);\n            } else if (this.view.components.bulb.children[0].scale.x >= 0.16) {\n              this.view.animations.pulseUp = false;\n              this.view.animations.pulseDown = true;\n            }\n            if (\n              this.view.components.bulb.children[0].scale.x > 0.11 &&\n              this.view.animations.pulseDown\n            ) {\n              this.view.components.bulb.children[0].scale.subScalar(0.0005);\n            } else if (this.view.components.bulb.children[0].scale.x <= 0.11) {\n              this.view.animations.pulseUp = true;\n              this.view.animations.pulseDown = false;\n            }\n          } else {\n            // internal bulb\n            var avgBass = audioFrequencyAverage(\n              this.music.audio.analyser.analyser,\n              freqs,\n              20,\n              200\n            );\n\n            var avgMid = audioFrequencyAverage(\n              this.music.audio.analyser.analyser,\n              freqs,\n              200,\n              1000\n            );\n\n            if (avgBass != 0) {\n              this.view.components.bulb.children[1].scale.x = avgBass / 10;\n              this.view.components.bulb.children[1].scale.y = avgBass / 10;\n              this.view.components.bulb.children[1].scale.z = avgBass / 10;\n            }\n            if (avgMid != 0) {\n              this.view.components.bulb.children[0].scale.x = avgMid / 5;\n              this.view.components.bulb.children[0].scale.y = avgMid / 5;\n              this.view.components.bulb.children[0].scale.z = avgMid / 5;\n            }\n          }\n\n          break;\n      }\n    },\n    animateCamera() {\n      if (!this.view.animations.cameraIsExecuted &&\n        this.view.camera.position.z > 20\n      ) {\n        this.view.camera.position.z -= 0.25;\n      } else {\n        this.view.animations.cameraIsExecuted = true;\n        if (!this.view.isMobile) {\n          this.view.controls.enableRotate = true;\n        }\n      }\n    },\n\n    animateSongDetail() {\n      if (!this.view.animations.songDetailIsExecuted &&\n        this.view.components.songDetail.position.z > -2\n      ) {\n        this.view.components.songDetail.position.z -= 0.35;\n      } else {\n        this.view.animations.songDetailIsExecuted = true;\n      }\n    }\n  }\n};\nexport default AnimatorService;\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/animator.js","const audioFrequencyAverage = require(\"analyser-frequency-average\");\n\nvar MusicService = {\n  methods: {\n    play() {\n      if (this.music.audio.status === \"playing\") {\n        this.music.audio.player.pause();\n        this.music.audio.status = \"paused\";\n      } else {\n        this.music.audio.player.play();\n        this.music.audio.status = \"playing\";\n      }\n    }\n  }\n};\nexport default MusicService;\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/music.js","<template>\n  <div>\n    <div id=\"view\">\n    </div>\n    <div v-if=\"music.audio.ready && view.animations.cameraIsExecuted\" id=\"play\" @click=\"play()\">\n      <icon class=\"white\" :name=\"music.audio.status == 'playing' ? 'pause': 'play'\" scale=\"1.5\"></icon>\n    </div>\n    <div id=\"fullscreen\" @click=\"setFullScreen()\" v-if=\"!view.isMobile\">\n      <icon class=\"white\" :name=\"view.isFullScreen ? 'compress': 'expand'\" scale=\"2\"></icon>\n    </div>\n    <div id=\"vr\" @click=\"setVR()\" v-if=\"view.isMobile\">\n      <icon class=\"white\" :name=\"view.isVR ? 'eye-slash': 'eye'\" scale=\"2\"></icon>\n    </div>\n  </div>\n</template>\n\n<script>\n  import UtilService from \"../services/util\";\n  import InitService from \"../services/init\";\n  import EventService from \"../services/event\";\n  import CreatorService from \"../services/creator\";\n  import AnimatorService from \"../services/animator\";\n  import MusicService from \"../services/music\";\n\n  export default {\n    name: \"MusicVR\",\n    mixins: [\n      UtilService,\n      InitService,\n      EventService,\n      CreatorService,\n      AnimatorService,\n      MusicService\n    ],\n    data() {\n      return {\n        view: {\n          camera: null,\n          scene: null,\n          renderer: null,\n          effect: null,\n          controls: null,\n          input: null,\n          animations: {\n            pulseUp: true,\n            pulseDown: false,\n            cameraIsExecuted: false,\n            songDetailIsExecuted: false\n          },\n          components: {\n            particles: {},\n            rocks: {},\n            bulb: {},\n            grid: {},\n            songDetail: {},\n            lights: [],\n            ambientLight: {}\n          },\n          colors: {\n            ambient: 0x003073, // darker\n            directional: 0x029797, // lighter\n            bulb: {\n              external: 0xffffff,\n              internal: 0x11e8bb // more lighter\n            },\n            particle: 0xffffff,\n            rocks: 0x11e8bb,\n            text: 0xffffff\n          },\n          font: null,\n          isMobile: this.isMobile(),\n          isFullScreen: false,\n          isVR: false\n        },\n        music: {\n          audio: {\n            context: null,\n            source: \"static/soul.mp3\",\n            player: null,\n            analyser: null,\n            status: null,\n            ready: false,\n            fftSize: 1024\n          },\n          title: \"Memento Mori\",\n          artist: \"Edoardo Spadoni\"\n        }\n      };\n    },\n    mounted() {\n      this.initView();\n    },\n    methods: {\n      initView() {\n        var context = this;\n\n        // add WebGLRenderer\n        this.initRenderer();\n\n        // append renderer to view HTML element\n        document\n          .getElementById(\"view\")\n          .appendChild(this.view.renderer.domElement);\n\n        // add stereo effect to renderer\n        this.initVR();\n\n        // init the scene\n        this.initScene();\n\n        // init camera and add to scene\n        this.initCamera();\n\n        // load font\n        var loader = new THREE.FontLoader();\n        loader.load(\"static/fonts/open-sans.json\", function (font) {\n          // add font\n          context.view.font = font;\n\n          // init all objects\n          context.initAmbient(context);\n\n          // init grid\n          context.addGrid()\n\n          // init particles\n          context.addParticles(\n            context.music.audio.fftSize / 8,\n            context.view.colors.particle\n          );\n\n          // init rocks\n          context.addRocks(context.music.audio.fftSize / 16, context.view.colors.rocks)\n\n          // init main bulb\n          context.addBulb(\n            context.view.colors.bulb.internal,\n            context.view.colors.bulb.external,\n            1,\n            1\n          );\n\n          // add input controls\n          //context.initInput()\n\n          // init controls\n          context.initControls();\n\n          // init events\n          context.initEvents();\n\n          // init audio\n          context.initAudio(function (ready) {\n            // start animations\n            context.animate();\n          });\n        });\n      },\n\n      animate(dt) {\n        // request update\n        requestAnimationFrame(this.animate);\n\n        // handle VR\n        this.handleVR();\n\n        // update controls\n        this.view.controls.update();\n\n        // update input\n        //this.view.input.update();\n\n        // animate song detail\n        if (!this.view.animations.songDetailIsExecuted) {\n          this.animateSongDetail();\n        }\n\n        // animate camera\n        if (!this.view.animations.cameraIsExecuted) {\n          this.animateCamera();\n        }\n\n        if (this.music.audio.status === \"playing\") {\n          // get frequencies for this frame\n          var freqs = this.music.audio.analyser.frequencies();\n\n          // animate particles\n          this.animateParticles(freqs);\n\n          // animate rocks\n          this.animateRocks(freqs)\n\n          // animate bulb\n          this.animateBulb(\"pulse\", freqs);\n\n          // animate grid\n          this.animateGrid()\n        } else {\n          // animate bulb\n          this.animateBulb(\"pulse\", null);\n        }\n      }\n    }\n  };\n\n</script>\n\n<style scoped>\n  #view {\n    background-color: #193c6d;\n    filter: progid: DXImageTransform.Microsoft.gradient(gradientType=1, startColorstr=\"#003073\", endColorstr=\"#029797\");\n    background-size: 100%;\n    background-image: -webkit-gradient( linear,\n    0 0,\n    100% 100%,\n    color-stop(0, #003073),\n    color-stop(100%, #029797));\n    background-image: -webkit-linear-gradient(0deg, #003073, #029797);\n    background-image: -moz-linear-gradient(0deg, #003073, #029797);\n    background-image: -ms-linear-gradient(0deg, #003073 0, #029797 100%);\n    background-image: -o-linear-gradient(0deg, #003073, #029797);\n    background-image: linear-gradient(0deg, #003073, #029797);\n    text-align: center;\n    margin: 0px;\n    overflow: hidden;\n  }\n\n  #vr {\n    position: absolute;\n    top: 7px;\n    right: 11px;\n    cursor: pointer;\n  }\n\n  #fullscreen {\n    position: absolute;\n    top: 5px;\n    right: 13px;\n    cursor: pointer;\n  }\n\n  #play {\n    position: absolute;\n    top: 5px;\n    left: 13px;\n    cursor: pointer;\n  }\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/MusicVR.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{attrs:{\"id\":\"view\"}}),_vm._v(\" \"),(_vm.music.audio.ready && _vm.view.animations.cameraIsExecuted)?_c('div',{attrs:{\"id\":\"play\"},on:{\"click\":function($event){_vm.play()}}},[_c('icon',{staticClass:\"white\",attrs:{\"name\":_vm.music.audio.status == 'playing' ? 'pause': 'play',\"scale\":\"1.5\"}})],1):_vm._e(),_vm._v(\" \"),(!_vm.view.isMobile)?_c('div',{attrs:{\"id\":\"fullscreen\"},on:{\"click\":function($event){_vm.setFullScreen()}}},[_c('icon',{staticClass:\"white\",attrs:{\"name\":_vm.view.isFullScreen ? 'compress': 'expand',\"scale\":\"2\"}})],1):_vm._e(),_vm._v(\" \"),(_vm.view.isMobile)?_c('div',{attrs:{\"id\":\"vr\"},on:{\"click\":function($event){_vm.setVR()}}},[_c('icon',{staticClass:\"white\",attrs:{\"name\":_vm.view.isVR ? 'eye-slash': 'eye',\"scale\":\"2\"}})],1):_vm._e()])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7b00f5fe\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/MusicVR.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7b00f5fe\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./MusicVR.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./MusicVR.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./MusicVR.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7b00f5fe\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./MusicVR.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-7b00f5fe\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/MusicVR.vue\n// module id = null\n// module chunks = ","import Vue from 'vue'\nimport Router from 'vue-router'\nimport MusicVR from '@/components/MusicVR'\n\nVue.use(Router)\n\nexport default new Router({\n  routes: [\n    {\n      path: '/',\n      name: 'MusicVR',\n      component: MusicVR\n    }\n  ]\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\nimport router from './router'\n\nimport 'vue-awesome/icons'\nimport Icon from 'vue-awesome/components/Icon'\nVue.component('icon', Icon)\n\nVue.config.productionTip = false\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  router,\n  components: { App },\n  template: '<App/>'\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","module.exports = {\"audio/midi\":[\"mid\",\"midi\",\"kar\",\"rmi\"],\"audio/mp4\":[\"mp4a\",\"m4a\"],\"audio/mpeg\":[\"mpga\",\"mp2\",\"mp2a\",\"mp3\",\"m2a\",\"m3a\"],\"audio/ogg\":[\"oga\",\"ogg\",\"spx\"],\"audio/webm\":[\"weba\"],\"audio/x-matroska\":[\"mka\"],\"audio/x-mpegurl\":[\"m3u\"],\"audio/wav\":[\"wav\"],\"video/3gpp\":[\"3gp\"],\"video/3gpp2\":[\"3g2\"],\"video/mp4\":[\"mp4\",\"mp4v\",\"mpg4\"],\"video/mpeg\":[\"mpeg\",\"mpg\",\"mpe\",\"m1v\",\"m2v\"],\"video/ogg\":[\"ogv\"],\"video/quicktime\":[\"qt\",\"mov\"],\"video/webm\":[\"webm\"],\"video/x-f4v\":[\"f4v\"],\"video/x-fli\":[\"fli\"],\"video/x-flv\":[\"flv\"],\"video/x-m4v\":[\"m4v\"],\"video/x-matroska\":[\"mkv\",\"mk3d\",\"mks\"]}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/browser-media-mime-type/mime-types.json\n// module id = TvTK\n// module chunks = 1","global.THREE = require(\"three\");\n\nrequire(\"./../lib/StereoEffect.js\");\nrequire(\"./../lib/DeviceOrientationControls.js\");\nrequire(\"./../lib/OrbitControls.js\");\n\nconst audioPlayer = require(\"web-audio-player\");\nconst audioAnalyser = require(\"web-audio-analyser\");\nconst audioContext = require(\"ios-safe-audio-context\");\n\nconst RayInput = require('ray-input')\n\nvar InitService = {\n  methods: {\n    initRenderer() {\n      this.view.renderer = new THREE.WebGLRenderer({\n        antialias: true,\n        alpha: true\n      });\n      this.view.renderer.setPixelRatio(\n        window.devicePixelRatio ? window.devicePixelRatio : 1\n      );\n      this.view.renderer.setSize(window.innerWidth, window.innerHeight);\n      this.view.renderer.autoClear = false;\n    },\n    initVR() {\n      if (this.view.isMobile) {\n        this.view.effect = new THREE.StereoEffect(this.view.renderer);\n        this.view.effect.setSize(window.innerWidth, window.innerHeight);\n      }\n    },\n    handleVR() {\n      var handler = \"renderer\";\n      if (this.view.isMobile && this.view.isVR) {\n        handler = \"effect\";\n      }\n      this.view[handler].render(this.view.scene, this.view.camera);\n    },\n    initInput() {\n      this.view.input = new RayInput.default(this.view.camera, this.view.renderer.domElement);\n      this.view.input.setSize(this.view.renderer.getSize());\n      this.view.scene.add(this.view.input.getMesh());\n    },\n    initScene() {\n      this.view.scene = new THREE.Scene();\n    },\n    initCamera() {\n      this.view.camera = new THREE.PerspectiveCamera(\n        50,\n        window.innerWidth / window.innerHeight,\n        1,\n        500\n      );\n      this.view.camera.position.z = 100;\n      this.view.camera.position.y = -5\n      this.view.scene.add(this.view.camera);\n    },\n    initControls() {\n      this.view.controls = new THREE.OrbitControls(\n        this.view.camera,\n        this.view.renderer.domElement\n      );\n      this.view.controls.minDistance = 20;\n      this.view.controls.maxDistance = 100;\n\n      this.view.controls.enableRotate = false;\n      this.view.controls.enableZoom = false;\n      this.view.controls.enablePan = false;\n    },\n    initAmbient(context) {\n      // add ambient light\n      context.addLights(\n        context.view.colors.ambient,\n        context.view.colors.directional\n      );\n\n      // add song detail\n      context.addSongDetail(\n        context.music.title,\n        context.music.artist,\n        context.view.colors.text\n      );\n    },\n    initAudio(callback) {\n      this.music.audio.context = audioContext();\n      this.music.audio.player = audioPlayer(this.music.audio.source, {\n        loop: true,\n        context: this.music.audio.context\n      });\n\n      this.music.audio.analyser = audioAnalyser(\n        this.music.audio.player.node,\n        this.music.audio.context,\n        {\n          stereo: false,\n          audible: false\n        }\n      );\n      this.music.audio.analyser.analyser.fftSize = this.music.audio.fftSize;\n\n      this.music.audio.player.on(\"load\", () => {\n        this.music.audio.ready = true;\n        this.music.audio.player.node.connect(\n          this.music.audio.player.context.destination\n        );\n        callback(this.music.audio.ready);\n      });\n    }\n  }\n};\nexport default InitService;\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/init.js","/**\n * @author richt / http://richt.me\n * @author WestLangley / http://github.com/WestLangley\n *\n * W3C Device Orientation control (http://w3c.github.io/deviceorientation/spec-source-orientation.html)\n */\n\nTHREE.DeviceOrientationControls = function(object) {\n  var scope = this;\n\n  this.object = object;\n  this.object.rotation.reorder(\"YXZ\");\n\n  this.enabled = true;\n\n  this.deviceOrientation = {};\n  this.screenOrientation = 0;\n\n  this.alphaOffset = 0; // radians\n\n  var onDeviceOrientationChangeEvent = function(event) {\n    scope.deviceOrientation = event;\n  };\n\n  var onScreenOrientationChangeEvent = function() {\n    scope.screenOrientation = window.orientation || 0;\n  };\n\n  // The angles alpha, beta and gamma form a set of intrinsic Tait-Bryan angles of type Z-X'-Y''\n\n  var setObjectQuaternion = (function() {\n    var zee = new THREE.Vector3(0, 0, 1);\n\n    var euler = new THREE.Euler();\n\n    var q0 = new THREE.Quaternion();\n\n    var q1 = new THREE.Quaternion(-Math.sqrt(0.5), 0, 0, Math.sqrt(0.5)); // - PI/2 around the x-axis\n\n    return function(quaternion, alpha, beta, gamma, orient) {\n      euler.set(beta, alpha, -gamma, \"YXZ\"); // 'ZXY' for the device, but 'YXZ' for us\n\n      quaternion.setFromEuler(euler); // orient the device\n\n      quaternion.multiply(q1); // camera looks out the back of the device, not the top\n\n      quaternion.multiply(q0.setFromAxisAngle(zee, -orient)); // adjust for screen orientation\n    };\n  })();\n\n  this.connect = function() {\n    onScreenOrientationChangeEvent(); // run once on load\n\n    window.addEventListener(\n      \"orientationchange\",\n      onScreenOrientationChangeEvent,\n      false\n    );\n    window.addEventListener(\n      \"deviceorientation\",\n      onDeviceOrientationChangeEvent,\n      false\n    );\n\n    scope.enabled = true;\n  };\n\n  this.disconnect = function() {\n    window.removeEventListener(\n      \"orientationchange\",\n      onScreenOrientationChangeEvent,\n      false\n    );\n    window.removeEventListener(\n      \"deviceorientation\",\n      onDeviceOrientationChangeEvent,\n      false\n    );\n\n    scope.enabled = false;\n  };\n\n  this.update = function() {\n    if (scope.enabled === false) return;\n\n    var device = scope.deviceOrientation;\n\n    if (device) {\n      var alpha = device.alpha\n        ? THREE.Math.degToRad(device.alpha) + scope.alphaOffset\n        : 0; // Z\n\n      var beta = device.beta ? THREE.Math.degToRad(device.beta) : 0; // X'\n\n      var gamma = device.gamma ? THREE.Math.degToRad(device.gamma) : 0; // Y''\n\n      var orient = scope.screenOrientation\n        ? THREE.Math.degToRad(scope.screenOrientation)\n        : 0; // O\n\n      setObjectQuaternion(scope.object.quaternion, alpha, beta, gamma, orient);\n    }\n  };\n\n  this.dispose = function() {\n    scope.disconnect();\n  };\n\n  this.connect();\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/DeviceOrientationControls.js","/**\n * @author qiao / https://github.com/qiao\n * @author mrdoob / http://mrdoob.com\n * @author alteredq / http://alteredqualia.com/\n * @author WestLangley / http://github.com/WestLangley\n * @author erich666 / http://erichaines.com\n */\n\n// This set of controls performs orbiting, dollying (zooming), and panning.\n// Unlike TrackballControls, it maintains the \"up\" direction object.up (+Y by default).\n//\n//    Orbit - left mouse / touch: one-finger move\n//    Zoom - middle mouse, or mousewheel / touch: two-finger spread or squish\n//    Pan - right mouse, or arrow keys / touch: two-finger move\n\nTHREE.OrbitControls = function (object, domElement) {\n  this.object = object;\n\n  this.domElement = domElement !== undefined ? domElement : document;\n\n  // Set to false to disable this control\n  this.enabled = true;\n\n  // \"target\" sets the location of focus, where the object orbits around\n  this.target = new THREE.Vector3();\n\n  // How far you can dolly in and out ( PerspectiveCamera only )\n  this.minDistance = 0;\n  this.maxDistance = Infinity;\n\n  // How far you can zoom in and out ( OrthographicCamera only )\n  this.minZoom = 0;\n  this.maxZoom = Infinity;\n\n  // How far you can orbit vertically, upper and lower limits.\n  // Range is 0 to Math.PI radians.\n  this.minPolarAngle = 0; // radians\n  this.maxPolarAngle = Math.PI; // radians\n\n  // How far you can orbit horizontally, upper and lower limits.\n  // If set, must be a sub-interval of the interval [ - Math.PI, Math.PI ].\n  this.minAzimuthAngle = -Infinity; // radians\n  this.maxAzimuthAngle = Infinity; // radians\n\n  // Set to true to enable damping (inertia)\n  // If damping is enabled, you must call controls.update() in your animation loop\n  this.enableDamping = false;\n  this.dampingFactor = 0.25;\n\n  // This option actually enables dollying in and out; left as \"zoom\" for backwards compatibility.\n  // Set to false to disable zooming\n  this.enableZoom = true;\n  this.zoomSpeed = 1.0;\n\n  // Set to false to disable rotating\n  this.enableRotate = true;\n  this.rotateSpeed = 1.0;\n\n  // Set to false to disable panning\n  this.enablePan = true;\n  this.panSpeed = 1.0;\n  this.screenSpacePanning = false; // if true, pan in screen-space\n  this.keyPanSpeed = 7.0; // pixels moved per arrow key push\n\n  // Set to true to automatically rotate around the target\n  // If auto-rotate is enabled, you must call controls.update() in your animation loop\n  this.autoRotate = false;\n  this.autoRotateSpeed = 2.0; // 30 seconds per round when fps is 60\n\n  // Set to false to disable use of the keys\n  this.enableKeys = true;\n\n  // The four arrow keys\n  this.keys = {\n    LEFT: 37,\n    UP: 38,\n    RIGHT: 39,\n    BOTTOM: 40\n  };\n\n  // Mouse buttons\n  this.mouseButtons = {\n    ORBIT: THREE.MOUSE.LEFT,\n    ZOOM: THREE.MOUSE.MIDDLE,\n    PAN: THREE.MOUSE.RIGHT\n  };\n\n  // for reset\n  this.target0 = this.target.clone();\n  this.position0 = this.object.position.clone();\n  this.zoom0 = this.object.zoom;\n\n  //\n  // public methods\n  //\n\n  this.getPolarAngle = function () {\n    return spherical.phi;\n  };\n\n  this.getAzimuthalAngle = function () {\n    return spherical.theta;\n  };\n\n  this.saveState = function () {\n    scope.target0.copy(scope.target);\n    scope.position0.copy(scope.object.position);\n    scope.zoom0 = scope.object.zoom;\n  };\n\n  this.reset = function () {\n    scope.target.copy(scope.target0);\n    scope.object.position.copy(scope.position0);\n    scope.object.zoom = scope.zoom0;\n\n    scope.object.updateProjectionMatrix();\n    scope.dispatchEvent(changeEvent);\n\n    scope.update();\n\n    state = STATE.NONE;\n  };\n\n  // this method is exposed, but perhaps it would be better if we can make it private...\n  this.update = (function () {\n    var offset = new THREE.Vector3();\n\n    // so camera.up is the orbit axis\n    var quat = new THREE.Quaternion().setFromUnitVectors(\n      object.up,\n      new THREE.Vector3(0, 1, 0)\n    );\n    var quatInverse = quat.clone().inverse();\n\n    var lastPosition = new THREE.Vector3();\n    var lastQuaternion = new THREE.Quaternion();\n\n    return function update() {\n      var position = scope.object.position;\n\n      offset.copy(position).sub(scope.target);\n\n      // rotate offset to \"y-axis-is-up\" space\n      offset.applyQuaternion(quat);\n\n      // angle from z-axis around y-axis\n      spherical.setFromVector3(offset);\n\n      if (scope.autoRotate && state === STATE.NONE) {\n        rotateLeft(getAutoRotationAngle());\n      }\n\n      spherical.theta += sphericalDelta.theta;\n      spherical.phi += sphericalDelta.phi;\n\n      // restrict theta to be between desired limits\n      spherical.theta = Math.max(\n        scope.minAzimuthAngle,\n        Math.min(scope.maxAzimuthAngle, spherical.theta)\n      );\n\n      // restrict phi to be between desired limits\n      spherical.phi = Math.max(\n        scope.minPolarAngle,\n        Math.min(scope.maxPolarAngle, spherical.phi)\n      );\n\n      spherical.makeSafe();\n\n      spherical.radius *= scale;\n\n      // restrict radius to be between desired limits\n      spherical.radius = Math.max(\n        scope.minDistance,\n        Math.min(scope.maxDistance, spherical.radius)\n      );\n\n      // move target to panned location\n      scope.target.add(panOffset);\n\n      offset.setFromSpherical(spherical);\n\n      // rotate offset back to \"camera-up-vector-is-up\" space\n      offset.applyQuaternion(quatInverse);\n\n      position.copy(scope.target).add(offset);\n\n      scope.object.lookAt(scope.target);\n\n      if (scope.enableDamping === true) {\n        sphericalDelta.theta *= 1 - scope.dampingFactor;\n        sphericalDelta.phi *= 1 - scope.dampingFactor;\n\n        panOffset.multiplyScalar(1 - scope.dampingFactor);\n      } else {\n        sphericalDelta.set(0, 0, 0);\n\n        panOffset.set(0, 0, 0);\n      }\n\n      scale = 1;\n\n      // update condition is:\n      // min(camera displacement, camera rotation in radians)^2 > EPS\n      // using small-angle approximation cos(x/2) = 1 - x^2 / 8\n\n      if (\n        zoomChanged ||\n        lastPosition.distanceToSquared(scope.object.position) > EPS ||\n        8 * (1 - lastQuaternion.dot(scope.object.quaternion)) > EPS\n      ) {\n        scope.dispatchEvent(changeEvent);\n\n        lastPosition.copy(scope.object.position);\n        lastQuaternion.copy(scope.object.quaternion);\n        zoomChanged = false;\n\n        return true;\n      }\n\n      return false;\n    };\n  })();\n\n  this.dispose = function () {\n    scope.domElement.removeEventListener(\"contextmenu\", onContextMenu, false);\n    scope.domElement.removeEventListener(\"mousedown\", onMouseDown, false);\n    scope.domElement.removeEventListener(\"wheel\", onMouseWheel, false);\n\n    scope.domElement.removeEventListener(\"touchstart\", onTouchStart, false);\n    scope.domElement.removeEventListener(\"touchend\", onTouchEnd, false);\n    scope.domElement.removeEventListener(\"touchmove\", onTouchMove, false);\n\n    document.removeEventListener(\"mousemove\", onMouseMove, false);\n    document.removeEventListener(\"mouseup\", onMouseUp, false);\n\n    window.removeEventListener(\"keydown\", onKeyDown, false);\n\n    //scope.dispatchEvent( { type: 'dispose' } ); // should this be added here?\n  };\n\n  //\n  // internals\n  //\n\n  var scope = this;\n\n  var changeEvent = {\n    type: \"change\"\n  };\n  var startEvent = {\n    type: \"start\"\n  };\n  var endEvent = {\n    type: \"end\"\n  };\n\n  var STATE = {\n    NONE: -1,\n    ROTATE: 0,\n    DOLLY: 1,\n    PAN: 2,\n    TOUCH_ROTATE: 3,\n    TOUCH_DOLLY_PAN: 4\n  };\n\n  var state = STATE.NONE;\n\n  var EPS = 0.000001;\n\n  // current position in spherical coordinates\n  var spherical = new THREE.Spherical();\n  var sphericalDelta = new THREE.Spherical();\n\n  var scale = 1;\n  var panOffset = new THREE.Vector3();\n  var zoomChanged = false;\n\n  var rotateStart = new THREE.Vector2();\n  var rotateEnd = new THREE.Vector2();\n  var rotateDelta = new THREE.Vector2();\n\n  var panStart = new THREE.Vector2();\n  var panEnd = new THREE.Vector2();\n  var panDelta = new THREE.Vector2();\n\n  var dollyStart = new THREE.Vector2();\n  var dollyEnd = new THREE.Vector2();\n  var dollyDelta = new THREE.Vector2();\n\n  function getAutoRotationAngle() {\n    return 2 * Math.PI / 60 / 60 * scope.autoRotateSpeed;\n  }\n\n  function getZoomScale() {\n    return Math.pow(0.95, scope.zoomSpeed);\n  }\n\n  function rotateLeft(angle) {\n    sphericalDelta.theta -= angle;\n  }\n\n  function rotateUp(angle) {\n    sphericalDelta.phi -= angle;\n  }\n\n  var panLeft = (function () {\n    var v = new THREE.Vector3();\n\n    return function panLeft(distance, objectMatrix) {\n      v.setFromMatrixColumn(objectMatrix, 0); // get X column of objectMatrix\n      v.multiplyScalar(-distance);\n\n      panOffset.add(v);\n    };\n  })();\n\n  var panUp = (function () {\n    var v = new THREE.Vector3();\n\n    return function panUp(distance, objectMatrix) {\n      if (scope.screenSpacePanning === true) {\n        v.setFromMatrixColumn(objectMatrix, 1);\n      } else {\n        v.setFromMatrixColumn(objectMatrix, 0);\n        v.crossVectors(scope.object.up, v);\n      }\n\n      v.multiplyScalar(distance);\n\n      panOffset.add(v);\n    };\n  })();\n\n  // deltaX and deltaY are in pixels; right and down are positive\n  var pan = (function () {\n    var offset = new THREE.Vector3();\n\n    return function pan(deltaX, deltaY) {\n      var element =\n        scope.domElement === document ?\n        scope.domElement.body :\n        scope.domElement;\n\n      if (scope.object.isPerspectiveCamera) {\n        // perspective\n        var position = scope.object.position;\n        offset.copy(position).sub(scope.target);\n        var targetDistance = offset.length();\n\n        // half of the fov is center to top of screen\n        targetDistance *= Math.tan(scope.object.fov / 2 * Math.PI / 180.0);\n\n        // we use only clientHeight here so aspect ratio does not distort speed\n        panLeft(\n          2 * deltaX * targetDistance / element.clientHeight,\n          scope.object.matrix\n        );\n        panUp(\n          2 * deltaY * targetDistance / element.clientHeight,\n          scope.object.matrix\n        );\n      } else if (scope.object.isOrthographicCamera) {\n        // orthographic\n        panLeft(\n          deltaX *\n          (scope.object.right - scope.object.left) /\n          scope.object.zoom /\n          element.clientWidth,\n          scope.object.matrix\n        );\n        panUp(\n          deltaY *\n          (scope.object.top - scope.object.bottom) /\n          scope.object.zoom /\n          element.clientHeight,\n          scope.object.matrix\n        );\n      } else {\n        // camera neither orthographic nor perspective\n        console.warn(\n          \"WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.\"\n        );\n        scope.enablePan = false;\n      }\n    };\n  })();\n\n  function dollyIn(dollyScale) {\n    if (scope.object.isPerspectiveCamera) {\n      scale /= dollyScale;\n    } else if (scope.object.isOrthographicCamera) {\n      scope.object.zoom = Math.max(\n        scope.minZoom,\n        Math.min(scope.maxZoom, scope.object.zoom * dollyScale)\n      );\n      scope.object.updateProjectionMatrix();\n      zoomChanged = true;\n    } else {\n      console.warn(\n        \"WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.\"\n      );\n      scope.enableZoom = false;\n    }\n  }\n\n  function dollyOut(dollyScale) {\n    if (scope.object.isPerspectiveCamera) {\n      scale *= dollyScale;\n    } else if (scope.object.isOrthographicCamera) {\n      scope.object.zoom = Math.max(\n        scope.minZoom,\n        Math.min(scope.maxZoom, scope.object.zoom / dollyScale)\n      );\n      scope.object.updateProjectionMatrix();\n      zoomChanged = true;\n    } else {\n      console.warn(\n        \"WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.\"\n      );\n      scope.enableZoom = false;\n    }\n  }\n\n  //\n  // event callbacks - update the object state\n  //\n\n  function handleMouseDownRotate(event) {\n    //console.log( 'handleMouseDownRotate' );\n\n    rotateStart.set(event.clientX, event.clientY);\n  }\n\n  function handleMouseDownDolly(event) {\n    //console.log( 'handleMouseDownDolly' );\n\n    dollyStart.set(event.clientX, event.clientY);\n  }\n\n  function handleMouseDownPan(event) {\n    //console.log( 'handleMouseDownPan' );\n\n    panStart.set(event.clientX, event.clientY);\n  }\n\n  function handleMouseMoveRotate(event) {\n    //console.log( 'handleMouseMoveRotate' );\n\n    rotateEnd.set(event.clientX, event.clientY);\n\n    rotateDelta\n      .subVectors(rotateEnd, rotateStart)\n      .multiplyScalar(scope.rotateSpeed);\n\n    var element =\n      scope.domElement === document ? scope.domElement.body : scope.domElement;\n\n    // rotating across whole screen goes 360 degrees around\n    rotateLeft(2 * Math.PI * rotateDelta.x / element.clientWidth);\n\n    // rotating up and down along whole screen attempts to go 360, but limited to 180\n    rotateUp(2 * Math.PI * rotateDelta.y / element.clientHeight);\n\n    rotateStart.copy(rotateEnd);\n\n    scope.update();\n  }\n\n  function handleMouseMoveDolly(event) {\n    //console.log( 'handleMouseMoveDolly' );\n\n    dollyEnd.set(event.clientX, event.clientY);\n\n    dollyDelta.subVectors(dollyEnd, dollyStart);\n\n    if (dollyDelta.y > 0) {\n      dollyIn(getZoomScale());\n    } else if (dollyDelta.y < 0) {\n      dollyOut(getZoomScale());\n    }\n\n    dollyStart.copy(dollyEnd);\n\n    scope.update();\n  }\n\n  function handleMouseMovePan(event) {\n    //console.log( 'handleMouseMovePan' );\n\n    panEnd.set(event.clientX, event.clientY);\n\n    panDelta.subVectors(panEnd, panStart).multiplyScalar(scope.panSpeed);\n\n    pan(panDelta.x, panDelta.y);\n\n    panStart.copy(panEnd);\n\n    scope.update();\n  }\n\n  function handleMouseUp(event) {\n    // console.log( 'handleMouseUp' );\n  }\n\n  function handleMouseWheel(event) {\n    // console.log( 'handleMouseWheel' );\n\n    if (event.deltaY < 0) {\n      dollyOut(getZoomScale());\n    } else if (event.deltaY > 0) {\n      dollyIn(getZoomScale());\n    }\n\n    scope.update();\n  }\n\n  function handleKeyDown(event) {\n    //console.log( 'handleKeyDown' );\n\n    switch (event.keyCode) {\n      case scope.keys.UP:\n        pan(0, scope.keyPanSpeed);\n        scope.update();\n        break;\n\n      case scope.keys.BOTTOM:\n        pan(0, -scope.keyPanSpeed);\n        scope.update();\n        break;\n\n      case scope.keys.LEFT:\n        pan(scope.keyPanSpeed, 0);\n        scope.update();\n        break;\n\n      case scope.keys.RIGHT:\n        pan(-scope.keyPanSpeed, 0);\n        scope.update();\n        break;\n    }\n  }\n\n  function handleTouchStartRotate(event) {\n    //console.log( 'handleTouchStartRotate' );\n\n    rotateStart.set(event.touches[0].pageX, event.touches[0].pageY);\n  }\n\n  function handleTouchStartDollyPan(event) {\n    //console.log( 'handleTouchStartDollyPan' );\n\n    if (scope.enableZoom) {\n      var dx = event.touches[0].pageX - event.touches[1].pageX;\n      var dy = event.touches[0].pageY - event.touches[1].pageY;\n\n      var distance = Math.sqrt(dx * dx + dy * dy);\n\n      dollyStart.set(0, distance);\n    }\n\n    if (scope.enablePan) {\n      var x = 0.5 * (event.touches[0].pageX + event.touches[1].pageX);\n      var y = 0.5 * (event.touches[0].pageY + event.touches[1].pageY);\n\n      panStart.set(x, y);\n    }\n  }\n\n  function handleTouchMoveRotate(event) {\n    //console.log( 'handleTouchMoveRotate' );\n\n    rotateEnd.set(event.touches[0].pageX, event.touches[0].pageY);\n\n    rotateDelta\n      .subVectors(rotateEnd, rotateStart)\n      .multiplyScalar(scope.rotateSpeed);\n\n    var element =\n      scope.domElement === document ? scope.domElement.body : scope.domElement;\n\n    // rotating across whole screen goes 360 degrees around\n    rotateLeft(2 * Math.PI * rotateDelta.x / element.clientWidth);\n\n    // rotating up and down along whole screen attempts to go 360, but limited to 180\n    rotateUp(2 * Math.PI * rotateDelta.y / element.clientHeight);\n\n    rotateStart.copy(rotateEnd);\n\n    scope.update();\n  }\n\n  function handleTouchMoveDollyPan(event) {\n    //console.log( 'handleTouchMoveDollyPan' );\n\n    if (scope.enableZoom) {\n      var dx = event.touches[0].pageX - event.touches[1].pageX;\n      var dy = event.touches[0].pageY - event.touches[1].pageY;\n\n      var distance = Math.sqrt(dx * dx + dy * dy);\n\n      dollyEnd.set(0, distance);\n\n      dollyDelta.set(0, Math.pow(dollyEnd.y / dollyStart.y, scope.zoomSpeed));\n\n      dollyIn(dollyDelta.y);\n\n      dollyStart.copy(dollyEnd);\n    }\n\n    if (scope.enablePan) {\n      var x = 0.5 * (event.touches[0].pageX + event.touches[1].pageX);\n      var y = 0.5 * (event.touches[0].pageY + event.touches[1].pageY);\n\n      panEnd.set(x, y);\n\n      panDelta.subVectors(panEnd, panStart).multiplyScalar(scope.panSpeed);\n\n      pan(panDelta.x, panDelta.y);\n\n      panStart.copy(panEnd);\n    }\n\n    scope.update();\n  }\n\n  function handleTouchEnd(event) {\n    //console.log( 'handleTouchEnd' );\n  }\n\n  //\n  // event handlers - FSM: listen for events and reset state\n  //\n\n  function onMouseDown(event) {\n    if (scope.enabled === false) return;\n\n    event.preventDefault();\n\n    switch (event.button) {\n      case scope.mouseButtons.ORBIT:\n        if (scope.enableRotate === false) return;\n\n        handleMouseDownRotate(event);\n\n        state = STATE.ROTATE;\n\n        break;\n\n      case scope.mouseButtons.ZOOM:\n        if (scope.enableZoom === false) return;\n\n        handleMouseDownDolly(event);\n\n        state = STATE.DOLLY;\n\n        break;\n\n      case scope.mouseButtons.PAN:\n        if (scope.enablePan === false) return;\n\n        handleMouseDownPan(event);\n\n        state = STATE.PAN;\n\n        break;\n    }\n\n    if (state !== STATE.NONE) {\n      document.addEventListener(\"mousemove\", onMouseMove, false);\n      document.addEventListener(\"mouseup\", onMouseUp, false);\n\n      scope.dispatchEvent(startEvent);\n    }\n  }\n\n  function onMouseMove(event) {\n    if (scope.enabled === false) return;\n\n    event.preventDefault();\n\n    switch (state) {\n      case STATE.ROTATE:\n        if (scope.enableRotate === false) return;\n\n        handleMouseMoveRotate(event);\n\n        break;\n\n      case STATE.DOLLY:\n        if (scope.enableZoom === false) return;\n\n        handleMouseMoveDolly(event);\n\n        break;\n\n      case STATE.PAN:\n        if (scope.enablePan === false) return;\n\n        handleMouseMovePan(event);\n\n        break;\n    }\n  }\n\n  function onMouseUp(event) {\n    if (scope.enabled === false) return;\n\n    handleMouseUp(event);\n\n    document.removeEventListener(\"mousemove\", onMouseMove, false);\n    document.removeEventListener(\"mouseup\", onMouseUp, false);\n\n    scope.dispatchEvent(endEvent);\n\n    state = STATE.NONE;\n  }\n\n  function onMouseWheel(event) {\n    if (\n      scope.enabled === false ||\n      scope.enableZoom === false ||\n      (state !== STATE.NONE && state !== STATE.ROTATE)\n    )\n      return;\n\n    event.preventDefault();\n    event.stopPropagation();\n\n    scope.dispatchEvent(startEvent);\n\n    handleMouseWheel(event);\n\n    scope.dispatchEvent(endEvent);\n  }\n\n  function onKeyDown(event) {\n    if (\n      scope.enabled === false ||\n      scope.enableKeys === false ||\n      scope.enablePan === false\n    )\n      return;\n\n    handleKeyDown(event);\n  }\n\n  function onTouchStart(event) {\n    if (scope.enabled === false) return;\n\n    event.preventDefault();\n\n    switch (event.touches.length) {\n      case 1: // one-fingered touch: rotate\n        if (scope.enableRotate === false) return;\n\n        handleTouchStartRotate(event);\n\n        state = STATE.TOUCH_ROTATE;\n\n        break;\n\n      case 2: // two-fingered touch: dolly-pan\n        if (scope.enableZoom === false && scope.enablePan === false) return;\n\n        handleTouchStartDollyPan(event);\n\n        state = STATE.TOUCH_DOLLY_PAN;\n\n        break;\n\n      default:\n        state = STATE.NONE;\n    }\n\n    if (state !== STATE.NONE) {\n      scope.dispatchEvent(startEvent);\n    }\n  }\n\n  function onTouchMove(event) {\n    if (scope.enabled === false) return;\n\n    event.preventDefault();\n    event.stopPropagation();\n\n    switch (event.touches.length) {\n      case 1: // one-fingered touch: rotate\n        if (scope.enableRotate === false) return;\n        if (state !== STATE.TOUCH_ROTATE) return; // is this needed?\n\n        handleTouchMoveRotate(event);\n\n        break;\n\n      case 2: // two-fingered touch: dolly-pan\n        if (scope.enableZoom === false && scope.enablePan === false) return;\n        if (state !== STATE.TOUCH_DOLLY_PAN) return; // is this needed?\n\n        handleTouchMoveDollyPan(event);\n\n        break;\n\n      default:\n        state = STATE.NONE;\n    }\n  }\n\n  function onTouchEnd(event) {\n    if (scope.enabled === false) return;\n\n    handleTouchEnd(event);\n\n    scope.dispatchEvent(endEvent);\n\n    state = STATE.NONE;\n  }\n\n  function onContextMenu(event) {\n    if (scope.enabled === false) return;\n\n    event.preventDefault();\n  }\n\n  //\n\n  scope.domElement.addEventListener(\"contextmenu\", onContextMenu, false);\n\n  scope.domElement.addEventListener(\"mousedown\", onMouseDown, false);\n  scope.domElement.addEventListener(\"wheel\", onMouseWheel, {\n    passive: true\n  });\n\n  scope.domElement.addEventListener(\"touchstart\", onTouchStart, {\n    passive: true\n  });\n  scope.domElement.addEventListener(\"touchend\", onTouchEnd, false);\n  scope.domElement.addEventListener(\"touchmove\", onTouchMove, {\n    passive: true\n  });\n\n  window.addEventListener(\"keydown\", onKeyDown, false);\n\n  // force an update at start\n\n  this.update();\n};\n\nTHREE.OrbitControls.prototype = Object.create(THREE.EventDispatcher.prototype);\nTHREE.OrbitControls.prototype.constructor = THREE.OrbitControls;\n\nObject.defineProperties(THREE.OrbitControls.prototype, {\n  center: {\n    get: function () {\n      console.warn(\"THREE.OrbitControls: .center has been renamed to .target\");\n      return this.target;\n    }\n  },\n\n  // backward compatibility\n\n  noZoom: {\n    get: function () {\n      console.warn(\n        \"THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.\"\n      );\n      return !this.enableZoom;\n    },\n\n    set: function (value) {\n      console.warn(\n        \"THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.\"\n      );\n      this.enableZoom = !value;\n    }\n  },\n\n  noRotate: {\n    get: function () {\n      console.warn(\n        \"THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead.\"\n      );\n      return !this.enableRotate;\n    },\n\n    set: function (value) {\n      console.warn(\n        \"THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead.\"\n      );\n      this.enableRotate = !value;\n    }\n  },\n\n  noPan: {\n    get: function () {\n      console.warn(\n        \"THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead.\"\n      );\n      return !this.enablePan;\n    },\n\n    set: function (value) {\n      console.warn(\n        \"THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead.\"\n      );\n      this.enablePan = !value;\n    }\n  },\n\n  noKeys: {\n    get: function () {\n      console.warn(\n        \"THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead.\"\n      );\n      return !this.enableKeys;\n    },\n\n    set: function (value) {\n      console.warn(\n        \"THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead.\"\n      );\n      this.enableKeys = !value;\n    }\n  },\n\n  staticMoving: {\n    get: function () {\n      console.warn(\n        \"THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead.\"\n      );\n      return !this.enableDamping;\n    },\n\n    set: function (value) {\n      console.warn(\n        \"THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead.\"\n      );\n      this.enableDamping = !value;\n    }\n  },\n\n  dynamicDampingFactor: {\n    get: function () {\n      console.warn(\n        \"THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead.\"\n      );\n      return this.dampingFactor;\n    },\n\n    set: function (value) {\n      console.warn(\n        \"THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead.\"\n      );\n      this.dampingFactor = value;\n    }\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/OrbitControls.js"],"sourceRoot":""}